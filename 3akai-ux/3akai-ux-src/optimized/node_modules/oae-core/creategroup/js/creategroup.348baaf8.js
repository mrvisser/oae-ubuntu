define(["jquery","oae.core"],function(e,t){return function(n){var r=e("#"+n),i=function(){e("#creategroup-modal").on("hidden",function(){var n=e("#creategroup-form",r);n[0].reset(),t.api.util.validation().clear(n)})},s=function(){t.api.util.template().render(e("#creategroup-visibility-template",r),{visibility:t.api.config.getValue("oae-principals","group","visibility")},e("#creategroup-visibility-container",r)),r.on("change",'.oae-large-options-container input[type="radio"]',function(){e(".oae-large-options",r).removeClass("checked"),e(this).parents(".oae-large-options").addClass("checked")})},o=function(){e("#creategroup-form *",r).prop("disabled",!0);var n=e("#creategroup-name",r).val(),i=e('.oae-large-options-container input[type="radio"]:checked',r).val();t.api.group.createGroup(n,"",i,null,[],[],function(e,t){window.location=t.profilePath+"/members"})},u=function(){t.api.util.validation().validate(e("#creategroup-form",r),{submitHandler:o})},a=function(){e(document).on("click",".oae-trigger-creategroup",function(){s(),e("#creategroup-modal",r).modal({backdrop:"static"}),e("#creategroup-modal",r).on("shown",function(){e("#creategroup-name",r).focus()})})};u(),i(),a()}});
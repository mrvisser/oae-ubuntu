MathJax.Extension["TeX/newcommand"]={version:"2.0"},MathJax.Hub.Register.StartupHook("TeX Jax Ready",function(){var e=MathJax.InputJax.TeX,t=e.Definitions;t.Add({macros:{newcommand:"NewCommand",renewcommand:"NewCommand",newenvironment:"NewEnvironment",renewenvironment:"NewEnvironment",def:"MacroDef",let:"Let"}},null,!0),e.Parse.Augment({NewCommand:function(t){var n=this.trimSpaces(this.GetArgument(t)),r=this.GetBrackets(t),i=this.GetBrackets(t),s=this.GetArgument(t);n.charAt(0)==="\\"&&(n=n.substr(1)),n.match(/^(.|[a-z]+)$/i)||e.Error("Illegal control sequence name for "+t),r&&(r=this.trimSpaces(r),r.match(/^[0-9]+$/)||e.Error("Illegal number of parameters specified in "+t)),this.setDef(n,["Macro",s,r,i])},NewEnvironment:function(t){var n=this.trimSpaces(this.GetArgument(t)),r=this.GetBrackets(t),i=this.GetArgument(t),s=this.GetArgument(t);r&&(r=this.trimSpaces(r),r.match(/^[0-9]+$/)||e.Error("Illegal number of parameters specified in "+t)),this.setEnv(n,["BeginEnv","EndEnv",i,s,r])},MacroDef:function(e){var t=this.GetCSname(e),n=this.GetTemplate(e,"\\"+t),r=this.GetArgument(e);n instanceof Array?this.setDef(t,["MacroWithTemplate",r].concat(n)):this.setDef(t,["Macro",r,n])},Let:function(e){var n=this.GetCSname(e),r,i=this.GetNext();i==="="&&(this.i++,i=this.GetNext()),i==="\\"?(e=this.GetCSname(e),r=this.csFindMacro(e),r||(t.mathchar0mi[e]?r=["csMathchar0mi",t.mathchar0mi[e]]:t.mathchar0mo[e]?r=["csMathchar0mo",t.mathchar0mo[e]]:t.mathchar7[e]?r=["csMathchar7",t.mathchar7[e]]:t.delimiter["\\"+e]!=null&&(r=["csDelimiter",t.delimiter["\\"+e]]))):(r=["Macro",i],this.i++),this.setDef(n,r)},setDef:function(e,n){n.isUser=!0,t.macros[e]=n},setEnv:function(e,n){n.isUser=!0,t.environment[e]=n},GetCSname:function(t){var n=this.GetNext();n!=="\\"&&e.Error("\\ must be followed by a control sequence");var r=this.trimSpaces(this.GetArgument(t));return r.substr(1)},GetTemplate:function(t,n){var r,i=[],s=0;r=this.GetNext();var o=this.i;while(this.i<this.string.length){r=this.GetNext();if(r==="#")o!==this.i&&(i[s]=this.string.substr(o,this.i-o)),r=this.string.charAt(++this.i),r.match(/^[1-9]$/)||e.Error("Illegal use of # in template for "+n),parseInt(r)!=++s&&e.Error("Parameters for "+n+" must be numbered sequentially"),o=this.i+1;else if(r==="{")return o!==this.i&&(i[s]=this.string.substr(o,this.i-o)),i.length>0?[s,i]:s;this.i++}e.Error("Missing replacement string for definition of "+t)},MacroWithTemplate:function(t,n,r,i){if(r){var s=[];this.GetNext(),i[0]&&!this.MatchParam(i[0])&&e.Error("Use of "+t+" doesn't match its definition");for(var o=0;o<r;o++)s.push(this.GetParameter(t,i[o+1]));n=this.SubstituteArgs(s,n)}this.string=this.AddArgs(n,this.string.slice(this.i)),this.i=0,++this.macroCount>e.config.MAXMACROS&&e.Error("MathJax maximum macro substitution count exceeded; is there a recursive macro call?")},BeginEnv:function(e,t,n,r){if(r){var i=[];for(var s=0;s<r;s++)i.push(this.GetArgument("\\begin{"+name+"}"));t=this.SubstituteArgs(i,t),n=this.SubstituteArgs(i,n)}return e.edef=n,this.string=this.AddArgs(t,this.string.slice(this.i)),this.i=0,e},EndEnv:function(e,t){return this.string=this.AddArgs(e.edef,this.string.slice(this.i)),this.i=0,t},GetParameter:function(t,n){if(n==null)return this.GetArgument(t);var r=this.i,i=0,s=0;while(this.i<this.string.length)if(this.string.charAt(this.i)==="{")this.i===r&&(s=1),this.GetArgument(t),i=this.i-r;else{if(this.MatchParam(n))return s&&(r++,i-=2),this.string.substr(r,i);this.i++,i++,s=0}e.Error("Runaway argument for "+t+"?")},MatchParam:function(e){return this.string.substr(this.i,e.length)!==e?0:(this.i+=e.length,1)}}),e.Environment=function(e){t.environment[e]=["BeginEnv","EndEnv"].concat([].slice.call(arguments,1)),t.environment[e].isUser=!0},MathJax.Hub.Startup.signal.Post("TeX newcommand Ready")}),MathJax.Ajax.loadComplete("[MathJax]/extensions/TeX/newcommand.js");
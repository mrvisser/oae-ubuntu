MathJax.Hub.Register.LoadHook("[MathJax]/jax/element/mml/jax.js",function(){var e="2.0",t=MathJax.ElementJax.mml;SETTINGS=MathJax.Hub.config.menuSettings,t.mbase.Augment({toMathML:function(e){var t=this.inferred&&this.parent.inferRow;e==null&&(e="");var n=this.type,r=this.toMathMLattributes();if(n==="mspace")return e+"<"+n+r+" />";var i=[],s=this.isToken?"":e+(t?"":"  ");for(var o=0,u=this.data.length;o<u;o++)this.data[o]?i.push(this.data[o].toMathML(s)):this.isToken||i.push(s+"<mrow />");return this.isToken?e+"<"+n+r+">"+i.join("")+"</"+n+">":t?i.join("\n"):i.length===0||i.length===1&&i[0]===""?e+"<"+n+r+" />":e+"<"+n+r+">\n"+i.join("\n")+"\n"+e+"</"+n+">"},toMathMLattributes:function(){var e=[],n=this.defaults,r=this.attrNames||t.copyAttributeNames,i=t.skipAttributes;this.type==="math"&&e.push('xmlns="http://www.w3.org/1998/Math/MathML"');if(!this.attrNames){this.type==="mstyle"&&(n=t.math.prototype.defaults);for(var s in n)if(!i[s]&&n.hasOwnProperty(s)){var o=s==="open"||s==="close";if(this[s]!=null&&(o||this[s]!==n[s])){var u=this[s];delete this[s],(o||this.Get(s)!==u)&&e.push(s+'="'+this.toMathMLattribute(u)+'"'),this[s]=u}}}for(var f=0,l=r.length;f<l;f++){if(r[f]==="class")continue;u=(this.attr||{})[r[f]],u==null&&(u=this[r[f]]),u!=null&&e.push(r[f]+'="'+this.toMathMLquote(u)+'"')}return this.toMathMLclass(e),e.length?" "+e.join(" "):""},toMathMLclass:function(e){var n=[];this["class"]&&n.push(this["class"]);if(this.isa(t.TeXAtom)&&SETTINGS.texHints){var r=["ORD","OP","BIN","REL","OPEN","CLOSE","PUNCT","INNER","VCENTER"][this.texClass];r&&n.push("MJX-TeXAtom-"+r)}this.mathvariant&&this.toMathMLvariants[this.mathvariant]&&n.push("MJX"+this.mathvariant),this.arrow&&n.push("MJX-arrow"),this.variantForm&&n.push("MJX-variant"),n.length&&e.unshift('class="'+n.join(" ")+'"')},toMathMLattribute:function(e){return typeof e=="string"&&e.replace(/ /g,"").match(/^(([-+])?(\d+(\.\d*)?|\.\d+))mu$/)?(1/18*RegExp.$1).toFixed(3).replace(/\.?0+$/,"")+"em":this.toMathMLvariants[e]?this.toMathMLvariants[e]:this.toMathMLquote(e)},toMathMLvariants:{"-tex-caligraphic":t.VARIANT.SCRIPT,"-tex-caligraphic-bold":t.VARIANT.BOLDSCRIPT,"-tex-oldstyle":t.VARIANT.NORMAL,"-tex-oldstyle-bold":t.VARIANT.BOLD,"-tex-mathit":t.VARIANT.ITALIC},toMathMLquote:function(e){e=String(e).split("");for(var t=0,n=e.length;t<n;t++){var r=e[t].charCodeAt(0);if(r<32||r>126)e[t]="&#x"+r.toString(16).toUpperCase()+";";else{var i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"}[e[t]];i&&(e[t]=i)}}return e.join("")}}),t.msubsup.Augment({toMathML:function(e){var t=this.type;this.data[this.sup]==null&&(t="msub"),this.data[this.sub]==null&&(t="msup");var n=this.toMathMLattributes();delete this.data[0].inferred;var r=[];for(var i=0,s=this.data.length;i<s;i++)this.data[i]&&r.push(this.data[i].toMathML(e+"  "));return e+"<"+t+n+">\n"+r.join("\n")+"\n"+e+"</"+t+">"}}),t.munderover.Augment({toMathML:function(e){var t=this.type;this.data[this.under]==null&&(t="mover"),this.data[this.over]==null&&(t="munder");var n=this.toMathMLattributes();delete this.data[0].inferred;var r=[];for(var i=0,s=this.data.length;i<s;i++)this.data[i]&&r.push(this.data[i].toMathML(e+"  "));return e+"<"+t+n+">\n"+r.join("\n")+"\n"+e+"</"+t+">"}}),t.TeXAtom.Augment({toMathML:function(e){var t=this.toMathMLattributes();return!t&&this.data[0].data.length===1?e.substr(2)+this.data[0].toMathML(e):e+"<mrow"+t+">\n"+this.data[0].toMathML(e+"  ")+"\n"+e+"</mrow>"}}),t.chars.Augment({toMathML:function(e){return(e||"")+this.toMathMLquote(this.toString())}}),t.entity.Augment({toMathML:function(e){return(e||"")+"&"+this.data[0]+";<!-- "+this.toString()+" -->"}}),t.xml.Augment({toMathML:function(e){return(e||"")+this.toString()}}),MathJax.Hub.Register.StartupHook("TeX mathchoice Ready",function(){t.TeXmathchoice.Augment({toMathML:function(e){return this.Core().toMathML(e)}})}),MathJax.Hub.Startup.signal.Post("toMathML Ready")}),MathJax.Ajax.loadComplete("[MathJax]/extensions/toMathML.js");
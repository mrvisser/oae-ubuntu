MathJax.Hub.Register.StartupHook("HTML-CSS Jax Ready",function(){var e="2.0",t=MathJax.ElementJax.mml,n=MathJax.OutputJax["HTML-CSS"],r={newline:0,nobreak:1e6,goodbreak:[-200],badbreak:[200],auto:[0],toobig:500,nestfactor:400,spacefactor:-100,spaceoffset:2,spacelimit:1,fence:500,close:500},i={linebreakstyle:"after"};t.mbase.Augment({HTMLlinebreakPenalty:r,HTMLmultiline:function(e){var s=this;while(s.inferred||s.parent&&s.parent.type==="mrow"&&s.parent.data.length===1)s=s.parent;var o=s.type==="math"&&s.Get("display")==="block"||s.type==="mtd";s.isMultiline=!0;var u=this.getValues("linebreak","linebreakstyle","lineleading","linebreakmultchar","indentalign","indentshift","indentalignfirst","indentshiftfirst","indentalignlast","indentshiftlast");u.linebreakstyle===t.LINEBREAKSTYLE.INFIXLINEBREAKSTYLE&&(u.linebreakstyle=this.Get("infixlinebreakstyle")),u.lineleading=n.length2em(u.lineleading,1,.5),this.HTMLremoveColor(e);var f=n.createStack(e),l={n:0,Y:0,scale:this.HTMLgetScale(),isTop:o,values:{},VALUES:u},h=this.HTMLgetAlign(l,{}),p=this.HTMLgetShift(l,{},h),d=[],v={index:[],penalty:r.nobreak,w:0,W:p,shift:p,scanW:p,nest:0},m=!1;while(this.HTMLbetterBreak(v,l)&&(v.scanW>=n.linebreakWidth||v.penalty==r.newline))this.HTMLaddLine(f,d,v.index,l,v.values,m),d=v.index.slice(0),m=!0,h=this.HTMLgetAlign(l,v.values),p=this.HTMLgetShift(l,v.values,h),h===t.INDENTALIGN.CENTER&&(p=0),v.W=v.shift=v.scanW=p,v.penalty=r.nobreak;return l.isLast=!0,this.HTMLaddLine(f,d,[],l,i,m),o&&(f.style.width="100%",s.type==="math"&&(e.bbox.width="100%")),this.HTMLhandleSpace(e),this.HTMLhandleColor(e),e.bbox.isMultiline=!0,e},HTMLbetterBreak:function(e,t){if(this.isToken)return!1;if(this.isEmbellished())return e.embellished=this,this.CoreMO().HTMLbetterBreak(e,t);if(this.linebreakContainer)return!1;var i=e.index.slice(0),s=e.index.shift(),o=this.data.length,u,a=e.W,f=e.index.length>0,l=!1;s==null&&(s=-1),f||(s++,e.W+=e.w),e.w=0,e.nest++;while(s<o&&e.W<1.33*n.linebreakWidth){if(this.data[s]){if(this.data[s].HTMLbetterBreak(e,t)){l=!0,i=[s].concat(e.index),u=e.W;if(e.penalty===r.newline)return e.index=i,e.nest--,!0}if(!f){var c=this.data[s].HTMLspanElement();a+=c.bbox.w,c.style.paddingLeft&&(a+=parseFloat(c.style.paddingLeft)),c.style.paddingRight&&(a+=parseFloat(c.style.paddingRight)),e.W=e.scanW=a}}e.index=[],s++,f=!1}return e.nest--,e.index=i,l&&(e.W=u),l},HTMLaddLine:function(e,r,i,s,o,u){line=n.createBox(e),line.bbox=this.HTMLemptyBBox({}),s.first=u,s.last=!0,this.HTMLmoveLine(r,i,line,s,o),this.HTMLcleanBBox(line.bbox);var f=this.HTMLgetAlign(s,o),l=this.HTMLgetShift(s,o,f);l&&(n.createBlank(line,l,f!==t.INDENTALIGN.RIGHT),line.bbox.w+=l,line.bbox.rw+=l);if(s.n>0){var c=n.FONTDATA.baselineskip*s.scale,h=(s.values.lineleading==null?s.VALUES:s.values).lineleading;s.Y-=Math.max(c,s.d+line.bbox.h+h)}n.alignBox(line,f,s.Y),s.d=line.bbox.d,s.values=o,s.n++},HTMLgetAlign:function(e,n){var r=n,i=e.values,s=e.VALUES,o;return e.n===0?o=r.indentalignfirst||i.indentalignfirst||s.indentalignfirst:e.isLast?o=i.indentalignlast||s.indentalignlast:o=i.indentalign||s.indentalign,o===t.INDENTALIGN.INDENTALIGN&&(o=i.indentalign||s.indentalign),o===t.INDENTALIGN.AUTO&&(o=e.isTop?this.displayAlign:t.INDENTALIGN.LEFT),o},HTMLgetShift:function(e,r,i){if(i===t.INDENTALIGN.CENTER)return 0;var s=r,o=e.values,u=e.VALUES,f;e.n===0?f=s.indentshiftfirst||o.indentshiftfirst||u.indentshiftfirst:e.isLast?f=o.indentshiftlast||u.indentshiftlast:f=o.indentshift||u.indentshift,f===t.INDENTSHIFT.INDENTSHIFT&&(f=o.indentshift||u.indentshift);if(f==="auto"||f==="")f=e.isTSop?this.displayIndent:"0";return n.length2em(f,0)},HTMLmoveLine:function(e,t,n,r,i){var s=e[0],o=t[0];s==null&&(s=-1),o==null&&(o=this.data.length-1);if(s===o&&e.length>1)this.data[s].HTMLmoveSlice(e.slice(1),t.slice(1),n,r,i,"paddingLeft");else{var u=r.last;r.last=!1;while(s<o)this.data[s]&&(e.length<=1?this.data[s].HTMLmoveSpan(n,r,i):this.data[s].HTMLmoveSlice(e.slice(1),[],n,r,i,"paddingLeft")),s++,r.first=!1,e=[];r.last=u,this.data[s]&&(t.length<=1?this.data[s].HTMLmoveSpan(n,r,i):this.data[s].HTMLmoveSlice([],t.slice(1),n,r,i,"paddingRight"))}},HTMLmoveSlice:function(e,t,n,r,i,s){this.HTMLremoveColor();var o=this.HTMLcreateSliceSpan(n);this.HTMLmoveLine(e,t,o,r,i),o.style[s]="",this.HTMLcombineBBoxes(o,n.bbox),this.HTMLcleanBBox(o.bbox);if(t.length===0){n=this.HTMLspanElement(),n.parentNode.removeChild(n),n.nextMathJaxSpan.id=n.id;var u=0;while(n=n.nextMathJaxSpan){var a=this.HTMLhandleColor(n);a&&(a.id+="-MathJax-Continue-"+u,u++)}}return o},HTMLcreateSliceSpan:function(e){var t=this.HTMLspanElement(),n=0,r=t;while(r.nextMathJaxSpan)r=r.nextMathJaxSpan,n++;var i=t.cloneNode(!1);return r.nextMathJaxSpan=i,i.nextMathJaxSpan=null,i.id+="-MathJax-Continue-"+n,i.bbox=this.HTMLemptyBBox({}),e.appendChild(i)},HTMLmoveSpan:function(e,r,i){if(!r.first&&!r.last||r.first&&r.values.linebreakstyle===t.LINEBREAKSTYLE.BEFORE||r.last&&i.linebreakstyle===t.LINEBREAKSTYLE.AFTER){var s=document.getElementById("MathJax-Color-"+this.spanID+n.idPostfix);s&&e.appendChild(s);var o=this.HTMLspanElement();e.appendChild(o),r.last&&(o.style.paddingRight="");if(r.first||r.nextIsFirst)delete r.nextIsFirst,o.style.paddingLeft="",s&&(this.HTMLremoveColor(o),this.HTMLhandleColor(o));this.HTMLcombineBBoxes(this,e.bbox)}else r.first?r.nextIsFirst=!0:delete r.nextIsFirst}}),t.mo.Augment({HTMLbetterBreak:function(e,i){var s=this.getValues("linebreak","linebreakstyle","lineleading","linebreakmultchar","indentalign","indentshift","indentalignfirst","indentshiftfirst","indentalignlast","indentshiftlast","texClass","fence");s.linebreakstyle===t.LINEBREAKSTYLE.INFIXLINEBREAKSTYLE&&(s.linebreakstyle=this.Get("infixlinebreakstyle")),s.texClass===t.TEXCLASS.OPEN&&e.nest++,s.texClass===t.TEXCLASS.CLOSE&&e.nest--;var o=e.W,u=e.embellished||this;delete e.embellished;var f=u.HTMLspanElement(),l=f.bbox.w;f.style.paddingLeft&&(l+=parseFloat(f.style.paddingLeft)),s.linebreakstyle===t.LINEBREAKSTYLE.AFTER&&(o+=l,l=0);if(o-e.shift===0)return!1;var c=n.linebreakWidth-o;if(i.n===0&&(s.indentshiftfirst!==i.VALUES.indentshiftfirst||s.indentalignfirst!==i.VALUES.indentalignfirst)){var h=this.HTMLgetAlign(i,s),p=this.HTMLgetShift(i,s,h);c+=e.shift-p}var d=Math.floor(c/n.linebreakWidth*1e3);d<0&&(d=r.toobig-3*d),s.fence&&(d+=r.fence);if(s.linebreakstyle===t.LINEBREAKSTYLE.AFTER&&s.texClass===t.TEXCLASS.OPEN||s.texClass===t.TEXCLASS.CLOSE)d+=r.close;d+=e.nest*r.nestfactor;var v=r[s.linebreak||t.LINEBREAK.AUTO];return v instanceof Array?d=Math.max(1,d+v[0]*e.nest):c>=0&&(d=v*e.nest),d>=e.penalty?!1:(e.penalty=d,e.values=s,e.W=o,e.w=l,s.lineleading=n.length2em(s.lineleading,i.VALUES.lineleading),!0)}}),t.mspace.Augment({HTMLbetterBreak:function(e,i){var s=this.getValues("linebreak"),o=e.W,u=this.HTMLspanElement(),f=u.bbox.w;u.style.paddingLeft&&(f+=parseFloat(u.style.paddingLeft)),s.linebreakstyle===t.LINEBREAKSTYLE.AFTER&&(o+=f,f=0);if(o-e.shift===0)return!1;var l=n.linebreakWidth-o,c=Math.floor(l/n.linebreakWidth*1e3);c<0&&(c=r.toobig-3*c),c+=e.nest*r.nestfactor;var h=r[s.linebreak||t.LINEBREAK.AUTO];return s.linebreak===t.LINEBREAK.AUTO&&f>=r.spacelimit&&(h=[(f+r.spaceoffset)*r.spacefactor]),h instanceof Array?c=Math.max(1,c+h[0]*e.nest):l>=0&&(c=h*e.nest),c>=e.penalty?!1:(e.penalty=c,e.values=s,e.W=o,e.w=f,s.lineleading=i.VALUES.lineleading,s.linebreakstyle="before",!0)}}),MathJax.Hub.Register.StartupHook("TeX mathchoice Ready",function(){t.TeXmathchoice.Augment({HTMLbetterBreak:function(e,t){return this.Core().HTMLbetterBreak(e,t)},HTMLmoveLine:function(e,t,n,r,i){return this.Core().HTMLmoveSlice(e,t,n,r,i)}})}),t.maction.Augment({HTMLbetterBreak:function(e,t){return this.Core().HTMLbetterBreak(e,t)},HTMLmoveLine:function(e,t,n,r,i){return this.Core().HTMLmoveSlice(e,t,n,r,i)},HTMLmoveSlice:function(e,t,r,i,s,o){var u=document.getElementById("MathJax-HitBox-"+this.spanID+n.idPostfix);u&&u.parentNode.removeChild(u);var a=this.SUPER(arguments).HTMLmoveSlice.apply(this,arguments);if(t.length===0){r=this.HTMLspanElement();var f=0;while(r)u=this.HTMLhandleHitBox(r,"-Continue-"+f),r=r.nextMathJaxSpan,f++}return a}}),t.semantics.Augment({HTMLbetterBreak:function(e,t){return this.data[0]?this.data[0].HTMLbetterBreak(e,t):!1},HTMLmoveLine:function(e,t,n,r,i){return this.data[0]?this.data[0].HTMLmoveSlice(e,t,n,r,i):null}}),MathJax.Hub.Startup.signal.Post("HTML-CSS multiline Ready"),MathJax.Ajax.loadComplete(n.autoloadDir+"/multiline.js")});
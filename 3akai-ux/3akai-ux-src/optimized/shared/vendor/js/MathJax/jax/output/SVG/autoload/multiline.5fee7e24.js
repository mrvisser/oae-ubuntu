MathJax.Hub.Register.StartupHook("SVG Jax Ready",function(){var e="2.0",t=MathJax.ElementJax.mml,n=MathJax.OutputJax.SVG,r=n.BBOX,i={newline:0,nobreak:1e6,goodbreak:[-200],badbreak:[200],auto:[0],toobig:500,nestfactor:400,spacefactor:-100,spaceoffset:2,spacelimit:1,fence:500,close:500},s={linebreakstyle:"after"};t.mrow.Augment({SVGmultiline:function(e){var r=this;while(r.inferred||r.parent&&r.parent.type==="mrow"&&r.parent.data.length===1)r=r.parent;var o=r.type==="math"&&r.Get("display")==="block"||r.type==="mtd";r.isMultiline=!0;var u=this.getValues("linebreak","linebreakstyle","lineleading","linebreakmultchar","indentalign","indentshift","indentalignfirst","indentshiftfirst","indentalignlast","indentshiftlast");u.linebreakstyle===t.LINEBREAKSTYLE.INFIXLINEBREAKSTYLE&&(u.linebreakstyle=this.Get("infixlinebreakstyle")),u.lineleading=n.length2em(u.lineleading,1,.5),e=this.SVG(),n.linebreakWidth<n.BIGDIMEN?e.w=n.linebreakWidth:e.w=n.cwidth/n.em*1e3;var l={n:0,Y:0,scale:this.SVGgetScale(),isTop:o,values:{},VALUES:u},h=this.SVGgetAlign(l,{}),p=this.SVGgetShift(l,{},h),d=[],v={index:[],penalty:i.nobreak,w:0,W:p,shift:p,scanW:p,nest:0},m=!1;while(this.SVGbetterBreak(v,l)&&(v.scanW>=n.linebreakWidth||v.penalty==i.newline))this.SVGaddLine(e,d,v.index,l,v.values,m),d=v.index.slice(0),m=!0,h=this.SVGgetAlign(l,v.values),p=this.SVGgetShift(l,v.values,h),h===t.INDENTALIGN.CENTER&&(p=0),v.W=v.shift=v.scanW=p,v.penalty=i.nobreak;return l.isLast=!0,this.SVGaddLine(e,d,[],l,s,m),this.SVGhandleSpace(e),this.SVGhandleColor(e),e.isMultiline=!0,this.SVGsaveData(e),e}}),t.mbase.Augment({SVGlinebreakPenalty:i,SVGbetterBreak:function(e,t){if(this.isToken)return!1;if(this.isEmbellished())return e.embellished=this,this.CoreMO().SVGbetterBreak(e,t);if(this.linebreakContainer)return!1;var r=e.index.slice(0),s=e.index.shift(),o=this.data.length,u,a=e.W,l=e.index.length>0,c=!1;s==null&&(s=-1),l||(s++,e.W+=e.w),e.w=0,e.nest++;while(s<o&&e.W<1.33*n.linebreakWidth){if(this.data[s]){if(this.data[s].SVGbetterBreak(e,t)){c=!0,r=[s].concat(e.index),u=e.W;if(e.penalty===i.newline)return e.index=r,e.nest--,!0}if(!l){var h=this.data[s].SVGdata;a+=h.w+h.x,h.X&&(a+=h.X),e.W=e.scanW=a}}e.index=[],s++,l=!1}return e.nest--,e.index=r,c&&(e.W=u),c},SVGaddLine:function(e,i,s,o,u,l){line=r(),o.first=l,o.last=!0,this.SVGmoveLine(i,s,line,o,u),line.Clean();var c=this.SVGgetAlign(o,u),h=this.SVGgetShift(o,u,c);h&&(c===t.INDENTALIGN.LEFT?line.x=h:c===t.INDENTALIGN.RIGHT&&(line.w+=h,line.r=line.w));if(o.n>0){var p=n.FONTDATA.baselineskip*o.scale,d=(o.values.lineleading==null?o.VALUES:o.values).lineleading;o.Y-=Math.max(p,o.d+line.h+d)}e.Align(line,c,0,o.Y),o.d=line.d,o.values=u,o.n++},SVGgetAlign:function(e,n){var r=n,i=e.values,s=e.VALUES,o;return e.n===0?o=r.indentalignfirst||i.indentalignfirst||s.indentalignfirst:e.isLast?o=i.indentalignlast||s.indentalignlast:o=i.indentalign||s.indentalign,o===t.INDENTALIGN.INDENTALIGN&&(o=i.indentalign||s.indentalign),o===t.INDENTALIGN.AUTO&&(o=e.isTop?this.displayAlign:t.INDENTALIGN.LEFT),o},SVGgetShift:function(e,r,i){if(i===t.INDENTALIGN.CENTER)return 0;var s=r,o=e.values,u=e.VALUES,l;e.n===0?l=s.indentshiftfirst||o.indentshiftfirst||u.indentshiftfirst:e.isLast?l=o.indentshiftlast||u.indentshiftlast:l=o.indentshift||u.indentshift,l===t.INDENTSHIFT.INDENTSHIFT&&(l=o.indentshift||u.indentshift);if(l==="auto"||l==="")l=e.isTSop?this.displayIndent:"0";return n.length2em(l,0)},SVGmoveLine:function(e,t,n,r,i){var s=e[0],o=t[0];s==null&&(s=-1),o==null&&(o=this.data.length-1);if(s===o&&e.length>1)this.data[s].SVGmoveSlice(e.slice(1),t.slice(1),n,r,i,"paddingLeft");else{var u=r.last;r.last=!1;while(s<o)this.data[s]&&(e.length<=1?this.data[s].SVGmove(n,r,i):this.data[s].SVGmoveSlice(e.slice(1),[],n,r,i,"paddingLeft")),s++,r.first=!1,e=[];r.last=u,this.data[s]&&(t.length<=1?this.data[s].SVGmove(n,r,i):this.data[s].SVGmoveSlice([],t.slice(1),n,r,i,"paddingRight"))}},SVGmoveSlice:function(e,t,n,i,s,o){var u=r();return this.SVGmoveLine(e,t,u,i,s),u.Clean(),this.SVGhandleColor(u),n.Add(u,n.w,0,!0),u},SVGmove:function(e,n,r){if(!n.first&&!n.last||n.first&&n.values.linebreakstyle===t.LINEBREAKSTYLE.BEFORE||n.last&&r.linebreakstyle===t.LINEBREAKSTYLE.AFTER){var i=this.toSVG(this.SVGdata.HW,this.SVGdata.D);n.last&&(i.x=0);if(n.first||n.nextIsFirst)delete n.nextIsFirst,i.X&&(i.X=0);e.Add(i,e.w,0,!0)}else n.first?n.nextIsFirst=!0:delete n.nextIsFirst}}),t.mo.Augment({SVGbetterBreak:function(e,r){var s=this.getValues("linebreak","linebreakstyle","lineleading","linebreakmultchar","indentalign","indentshift","indentalignfirst","indentshiftfirst","indentalignlast","indentshiftlast","texClass","fence");s.linebreakstyle===t.LINEBREAKSTYLE.INFIXLINEBREAKSTYLE&&(s.linebreakstyle=this.Get("infixlinebreakstyle")),s.texClass===t.TEXCLASS.OPEN&&e.nest++,s.texClass===t.TEXCLASS.CLOSE&&e.nest--;var o=e.W,u=e.embellished||this;delete e.embellished;var l=u.SVGdata,c=l.w+l.x;s.linebreakstyle===t.LINEBREAKSTYLE.AFTER&&(o+=c,c=0);if(o-e.shift===0)return!1;var h=n.linebreakWidth-o;if(r.n===0&&(s.indentshiftfirst!==r.VALUES.indentshiftfirst||s.indentalignfirst!==r.VALUES.indentalignfirst)){var p=this.SVGgetAlign(r,s),d=this.SVGgetShift(r,s,p);h+=e.shift-d}var v=Math.floor(h/n.linebreakWidth*1e3);v<0&&(v=i.toobig-3*v),s.fence&&(v+=i.fence);if(s.linebreakstyle===t.LINEBREAKSTYLE.AFTER&&s.texClass===t.TEXCLASS.OPEN||s.texClass===t.TEXCLASS.CLOSE)v+=i.close;v+=e.nest*i.nestfactor;var m=i[s.linebreak||t.LINEBREAK.AUTO];return m instanceof Array?v=Math.max(1,v+m[0]*e.nest):h>=0&&(v=m*e.nest),v>=e.penalty?!1:(e.penalty=v,e.values=s,e.W=o,e.w=c,s.lineleading=n.length2em(s.lineleading,r.VALUES.lineleading),!0)}}),t.mspace.Augment({SVGbetterBreak:function(e,r){var s=this.getValues("linebreak"),o=e.W,u=this.SVGdata,l=u.w+u.x;s.linebreakstyle===t.LINEBREAKSTYLE.AFTER&&(o+=l,l=0);if(o-e.shift===0)return!1;var c=n.linebreakWidth-o,h=Math.floor(c/n.linebreakWidth*1e3);h<0&&(h=i.toobig-3*h),h+=e.nest*i.nestfactor;var p=i[s.linebreak||t.LINEBREAK.AUTO];return s.linebreak===t.LINEBREAK.AUTO&&l>=i.spacelimit*1e3&&(p=[(l+i.spaceoffset)*i.spacefactor]),p instanceof Array?h=Math.max(1,h+p[0]*e.nest):c>=0&&(h=p*e.nest),h>=e.penalty?!1:(e.penalty=h,e.values=s,e.W=o,e.w=l,s.lineleading=r.VALUES.lineleading,s.linebreakstyle="before",!0)}}),MathJax.Hub.Register.StartupHook("TeX mathchoice Ready",function(){t.TeXmathchoice.Augment({SVGbetterBreak:function(e,t){return this.Core().SVGbetterBreak(e,t)},SVGmoveLine:function(e,t,n,r,i){return this.Core().SVGmoveSlice(e,t,n,r,i)}})}),t.maction.Augment({SVGbetterBreak:function(e,t){return this.Core().SVGbetterBreak(e,t)},SVGmoveLine:function(e,t,n,r,i){return this.Core().SVGmoveSlice(e,t,n,r,i)}}),t.semantics.Augment({SVGbetterBreak:function(e,t){return this.data[0]?this.data[0].SVGbetterBreak(e,t):!1},SVGmoveLine:function(e,t,n,r,i){return this.data[0]?this.data[0].SVGmoveSlice(e,t,n,r,i):null}}),MathJax.Hub.Startup.signal.Post("SVG multiline Ready"),MathJax.Ajax.loadComplete(n.autoloadDir+"/multiline.js")});
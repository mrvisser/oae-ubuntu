MathJax.Hub.Register.StartupHook("SVG Jax Ready",function(){var e="2.0",t=MathJax.ElementJax.mml,n=MathJax.OutputJax.SVG,r=n.BBOX,i="http://www.w3.org/1999/xlink";r.MGLYPH=r.Subclass({type:"image",removeable:!1,Init:function(e,t,r,s,o,u){u==null&&(u={});var a=e.width*1e3/n.em,f=e.height*1e3/n.em,l=0;t!==""&&(a=n.length2em(t,o,a)),r!==""&&(f=n.length2em(r,o,f)),s!==""&&s.match(/\d/)&&(l=n.length2em(s,o),u.y=-l),u.height=Math.floor(f),u.width=Math.floor(a),u.transform="translate(0,"+f+") matrix(1 0 0 -1 0 0)",u.preserveAspectRatio="none",this.SUPER(arguments).Init.call(this,u),this.element.setAttributeNS(i,"href",e.src),this.w=this.r=a,this.h=this.H=f+l,this.d=this.D=-l,this.l=0}}),t.mglyph.Augment({toSVG:function(e,n){this.SVGgetStyles();var i=this.SVG(),s,o;this.SVGhandleSpace(i);var u=this.getValues("src","width","height","valign","alt");if(u.src===""){u=this.getValues("index","fontfamily");if(u.index){n||(n=this.SVGgetScale());var f={};u.fontfamily&&(f["font-family"]=u.fontfamily),i.Add(r.TEXT(n,String.fromCharCode(u.index),f))}}else{this.img||(this.img=t.mglyph.GLYPH[u.src]),this.img||(this.img=t.mglyph.GLYPH[u.src]={img:new Image,status:"pending"},s=this.img.img,s.onload=MathJax.Callback(["SVGimgLoaded",this]),s.onerror=MathJax.Callback(["SVGimgError",this]),s.src=u.src,MathJax.Hub.RestartAfter(s.onload));if(this.img.status!=="OK")o=t.merror("Bad mglyph: "+u.src).With({mathsize:"75%"}),this.Append(o),i=o.toSVG(),this.data.pop();else{var l=this.SVGgetMu(i);i.Add(r.MGLYPH(this.img.img,u.width,u.height,u.valign,l,{src:u.src,alt:u.alt,title:u.alt}))}}return i.Clean(),this.SVGhandleColor(i),this.SVGsaveData(i),i},SVGimgLoaded:function(e,t){typeof e=="string"&&(t=e),this.img.status=t||"OK"},SVGimgError:function(){this.img.img.onload("error")}},{GLYPH:{}}),MathJax.Hub.Startup.signal.Post("SVG mglyph Ready"),MathJax.Ajax.loadComplete(n.autoloadDir+"/mglyph.js")});
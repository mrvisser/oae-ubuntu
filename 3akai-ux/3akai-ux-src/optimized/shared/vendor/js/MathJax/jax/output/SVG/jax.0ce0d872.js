(function(e,t,n,r){var i,s="http://www.w3.org/2000/svg",o="http://www.w3.org/1999/xlink";r.Augment({config:{styles:{".MathJax_SVG":{display:"inline","font-style":"normal","font-weight":"normal","line-height":"normal","font-size":"100%","font-size-adjust":"none","text-indent":0,"text-align":"left","text-transform":"none","letter-spacing":"normal","word-spacing":"normal","word-wrap":"normal","white-space":"nowrap","float":"none",direction:"ltr",border:0,padding:0,margin:0},".MathJax_SVG_Display":{position:"relative",display:"block",width:"100%"},".MathJax_SVG_Processing":{visibility:"hidden",position:"absolute",top:0,left:0,width:0,height:0,overflow:"hidden",display:"block"},".MathJax_SVG_Processed":{display:"none!important"},".MathJax_SVG_ExBox":{display:"block",overflow:"hidden",width:"1px",height:"60ex"},"#MathJax_SVG_Tooltip":{position:"absolute",left:0,top:0,width:"auto",height:"auto",display:"none"}}},hideProcessedMath:!0,Config:function(){var e=t.config.menuSettings;e.scale&&(this.config.scale=e.scale),this.SUPER(arguments).Config.apply(this,arguments),this.fontInUse=this.config.font,this.fontDir+="/"+this.config.font,this.require||(this.require=[]),this.require.push(this.fontDir+"/fontdata.js"),this.require.push(MathJax.OutputJax.extensionDir+"/MathEvents.js")},Startup:function(){EVENT=MathJax.Extension.MathEvents.Event,TOUCH=MathJax.Extension.MathEvents.Touch,HOVER=MathJax.Extension.MathEvents.Hover,this.ContextMenu=EVENT.ContextMenu,this.Mousedown=EVENT.AltContextMenu,this.Mouseover=HOVER.Mouseover,this.Mouseout=HOVER.Mouseout,this.Mousemove=HOVER.Mousemove,this.hiddenDiv=n.Element("div",{style:{visibility:"hidden",overflow:"hidden",position:"absolute",top:0,height:"1px",width:"auto",padding:0,border:0,margin:0,textAlign:"left",textIndent:0,textTransform:"none",lineHeight:"normal",letterSpacing:"normal",wordSpacing:"normal"}}),document.body.firstChild?document.body.insertBefore(this.hiddenDiv,document.body.firstChild):document.body.appendChild(this.hiddenDiv),this.hiddenDiv=n.addElement(this.hiddenDiv,"div",{id:"MathJax_SVG_Hidden"});var t=n.addElement(this.hiddenDiv,"div",{style:{width:"5in"}});return this.pxPerInch=t.offsetWidth/5,this.hiddenDiv.removeChild(t),this.textSVG=this.Element("svg"),f=this.addElement(this.addElement(this.hiddenDiv.parentNode,"svg"),"defs",{id:"MathJax_SVG_glyphs"}),a={},this.ExSpan=n.Element("span",{style:{position:"absolute","font-size-adjust":"none"}},[["span",{className:"MathJax_SVG_ExBox"}]]),this.linebreakSpan=n.Element("span",null,[["hr",{style:{width:"auto",size:1,padding:0,border:0,margin:0}}]]),e.Styles(this.config.styles,["InitializeSVG",this])},InitializeSVG:function(){document.body.appendChild(this.ExSpan),document.body.appendChild(this.linebreakSpan),this.defaultEx=this.ExSpan.firstChild.offsetHeight/60,this.defaultWidth=this.linebreakSpan.firstChild.offsetWidth,document.body.removeChild(this.linebreakSpan),document.body.removeChild(this.ExSpan)},preTranslate:function(e){var i=e.jax[this.id],s,o=i.length,u,a,f,l,h,p,d,v,m,g=!1,y,b=this.config.linebreaks.automatic,w=this.config.linebreaks.width;b?(g=w.match(/^\s*(\d+(\.\d*)?%\s*)?container\s*$/)!=null,g?w=w.replace(/\s*container\s*/,""):m=this.defaultWidth,w===""&&(w="100%")):m=1e5;for(s=0;s<o;s++){u=i[s];if(!u.parentNode)continue;a=u.previousSibling,a&&String(a.className).match(/^MathJax(_SVG)?(_Display)?$/)&&a.parentNode.removeChild(a),p=u.MathJax.elementJax,p.SVG={display:p.root.Get("display")==="block"},f=l=n.Element("span",{style:{"font-size":this.scale+"%",display:"inline-block"},className:"MathJax_SVG",id:p.inputID+"-Frame",isMathJax:!0,jaxID:this.id,oncontextmenu:EVENT.Menu,onmousedown:EVENT.Mousedown,onmouseover:EVENT.Mouseover,onmouseout:EVENT.Mouseout,onmousemove:EVENT.Mousemove,onclick:EVENT.Click,ondblclick:EVENT.DblClick}),t.Browser.noContextMenu&&(f.ontouchstart=TOUCH.start,f.ontouchend=TOUCH.end),p.SVG.display&&(l=n.Element("div",{className:"MathJax_SVG_Display"}),l.appendChild(f)),l.setAttribute("role","textbox"),l.setAttribute("aria-readonly","true"),l.className+=" MathJax_SVG_Processing",u.parentNode.insertBefore(l,u),u.parentNode.insertBefore(this.ExSpan.cloneNode(!0),u),l.parentNode.insertBefore(this.linebreakSpan.cloneNode(!0),l)}for(s=0;s<o;s++){u=i[s];if(!u.parentNode)continue;h=u.previousSibling,l=h.previousSibling,p=u.MathJax.elementJax,d=h.firstChild.offsetHeight/60,y=l.previousSibling.firstChild.offsetWidth,g&&(m=y);if(d===0||d==="NaN")this.hiddenDiv.appendChild(l),p.SVG.isHidden=!0,d=this.defaultEx,y=this.defaultWidth,g&&(m=this.defaultWidth);p.SVG.ex=d,p.SVG.cwidth=y,p.SVG.em=v=d/r.TeX.x_height*1e3,p.SVG.lineWidth=b?this.length2em(w,1,m/v):1e6}for(s=0;s<o;s++){u=i[s];if(!u.parentNode)continue;h=i[s].previousSibling,p=i[s].MathJax.elementJax,f=h.previousSibling,p.SVG.isHidden||(f=f.previousSibling),f.parentNode.removeChild(f),h.parentNode.removeChild(h)}e.SVGeqn=e.SVGlast=0,e.SVGchunk=this.config.EqnChunk,e.SVGdelay=!1},Translate:function(e,n){if(!e.parentNode)return;n.SVGdelay&&(n.SVGdelay=!1,t.RestartAfter(MathJax.Callback.Delay(this.config.EqnChunkDelay)));var r=e.MathJax.elementJax,s=r.root,o=document.getElementById(r.inputID+"-Frame"),u=r.SVG.display?o.parentNode:o;this.em=i.mbase.prototype.em=r.SVG.em,this.ex=r.SVG.ex,this.linebreakWidth=r.SVG.lineWidth*1e3,this.cwidth=r.SVG.cwidth,this.mathDiv=u,o.appendChild(this.textSVG),this.initSVG(s,o),s.setTeXclass();try{s.toSVG(o,u)}catch(a){if(a.restart)while(o.firstChild)o.removeChild(o.firstChild);throw a}o.removeChild(this.textSVG),r.SVG.isHidden&&e.parentNode.insertBefore(u,e),u.className=u.className.split(/ /)[0],this.hideProcessedMath&&(u.className+=" MathJax_SVG_Processed",e.MathJax.preview&&(r.SVG.preview=e.MathJax.preview,delete e.MathJax.preview),n.SVGeqn++,n.SVGeqn>=n.SVGlast+n.SVGchunk&&(this.postTranslate(n),n.SVGchunk=Math.floor(n.SVGchunk*this.config.EqnChunkFactor),n.SVGdelay=!0))},postTranslate:function(e){var t=e.jax[this.id];if(!this.hideProcessedMath)return;for(var n=e.SVGlast,r=e.SVGeqn;n<r;n++){var i=t[n];if(i){i.previousSibling.className=i.previousSibling.className.split(/ /)[0];var s=i.MathJax.elementJax.SVG;s.preview&&(s.preview.innerHTML="",i.MathJax.preview=s.preview,delete s.preview)}}e.SVGlast=e.SVGeqn},getJaxFromMath:function(e){return e.parentNode.className==="MathJax_SVG_Display"&&(e=e.parentNode),t.getJaxFor(e.nextSibling)},getHoverSpan:function(e,t){return t.style.position="relative",t.firstChild},getHoverBBox:function(e,t,n){var r=EVENT.getBBox(t.parentNode);return r.h+=2,r.d-=2,r},Zoom:function(e,t,n,s,o){t.className="MathJax_SVG";var u=t.appendChild(this.ExSpan.cloneNode(!0)),a=u.firstChild.offsetHeight/60;this.em=i.mbase.prototype.em=a/r.TeX.x_height*1e3,this.cwidth=.85*r.defaultWidth,u.parentNode.removeChild(u),this.idPostfix="-zoom",e.root.toSVG(t,t),this.idPostfix="",t.style.position=n.style.position="absolute";var f=t.offsetWidth,l=t.offsetHeight,c=n.offsetHeight,h=n.offsetWidth;return t.style.position=n.style.position="",{Y:-EVENT.getBBox(t).h,mW:h,mH:c,zW:f,zH:l}},initSVG:function(e,t){},Remove:function(e){var t=document.getElementById(e.inputID+"-Frame");t&&(e.SVG.display&&(t=t.parentNode),t.parentNode.removeChild(t)),delete e.SVG},Em:function(e){return Math.abs(e)<6e-4?"0em":e.toFixed(3).replace(/\.?0+$/,"")+"em"},Ex:function(e){return e/=this.TeX.x_height,Math.abs(e)<6e-4?"0ex":e.toFixed(3).replace(/\.?0+$/,"")+"ex"},Percent:function(e){return(100*e).toFixed(1).replace(/\.?0+$/,"")+"%"},length2em:function(e,t,n){typeof e!="string"&&(e=e.toString());if(e==="")return"";if(e===i.SIZE.NORMAL)return 1e3;if(e===i.SIZE.BIG)return 2e3;if(e===i.SIZE.SMALL)return 710;if(e==="infinity")return r.BIGDIMEN;if(e.match(/mathspace$/))return 1e3*r.MATHSPACE[e];var s=e.match(/^\s*([-+]?(?:\.\d+|\d+(?:\.\d*)?))?(pt|em|ex|mu|px|pc|in|mm|cm|%)?/),o=parseFloat(s[1]||"1")*1e3,u=s[2];return n==null&&(n=1e3),t==null&&(t=1),u==="em"?o:u==="ex"?o*r.TeX.x_height/1e3:u==="%"?o/100*n/1e3:u==="px"?o/r.em:u==="pt"?o/10:u==="pc"?o*1.2:u==="in"?o*this.pxPerInch/r.em:u==="cm"?o*this.pxPerInch/r.em/2.54:u==="mm"?o*this.pxPerInch/r.em/25.4:u==="mu"?o/18*t:o*n/1e3},thickness2em:function(e,t){var n=r.TeX.rule_thickness;return e===i.LINETHICKNESS.MEDIUM?n:e===i.LINETHICKNESS.THIN?.67*n:e===i.LINETHICKNESS.THICK?1.67*n:this.length2em(e,t,n)},getPadding:function(e){var t={top:0,right:0,bottom:0,left:0},n=!1;for(var r in t)if(t.hasOwnProperty(r)){var i=e.style["padding"+r.charAt(0).toUpperCase()+r.substr(1)];i&&(t[r]=this.length2em(i),n=!0)}return n?t:!1},getBorders:function(e){var t={top:0,right:0,bottom:0,left:0},n=!1;for(var r in t)if(t.hasOwnProperty(r)){var i="border"+r.charAt(0).toUpperCase()+r.substr(1),s=e.style[i+"Style"];s&&(n=!0,t[r]=this.length2em(e.style[i+"Width"]),t[r+"Style"]=e.style[i+"Style"],t[r+"Color"]=e.style[i+"Color"],t[r+"Color"]==="initial"&&(t[r+"Color"]=""))}return n?t:!1},Element:function(e,t){var n=typeof e=="string"?document.createElementNS(s,e):e;n.isMathJax=!0;if(t)for(var r in t)t.hasOwnProperty(r)&&n.setAttribute(r,t[r].toString());return n},addElement:function(e,t,n){return e.appendChild(this.Element(t,n))},TextNode:n.TextNode,addText:n.addText,ucMatch:n.ucMatch,HandleVariant:function(e,n,s){var o=u.G(),a,f,l,h,p,d,v,m,y,b;e||(e=this.FONTDATA.VARIANT[i.VARIANT.NORMAL]),e.forceFamily&&(s=u.TEXT(n,s,e.font),e.h!=null&&(s.h=e.h),e.d!=null&&(s.d=e.d),o.Add(s),s=""),p=e;for(d=0,v=s.length;d<v;d++){e=p,a=s.charCodeAt(d),l=s.charAt(d);if(a>=55296&&a<56319){d++,a=(a-55296<<10)+(s.charCodeAt(d)-56320)+65536;if(this.FONTDATA.RemapPlane1){var w=this.FONTDATA.RemapPlane1(a,e);a=w.n,e=w.variant}}else{b=this.FONTDATA.RANGES;for(m=0,y=b.length;m<y;m++){if(b[m].name==="alpha"&&e.noLowerCase)continue;f=e["offset"+b[m].offset];if(f&&a>=b[m].low&&a<=b[m].high){b[m].remap&&b[m].remap[a]?a=f+b[m].remap[a]:(a=a-b[m].low+f,b[m].add&&(a+=b[m].add)),e["variant"+b[m].offset]&&(e=this.FONTDATA.VARIANT[e["variant"+b[m].offset]]);break}}}if(e.remap&&e.remap[a])if(e.remap[a]instanceof Array){var E=e.remap[a];a=E[0],e=this.FONTDATA.VARIANT[E[1]]}else typeof e.remap[a]=="string"?(s=e.remap[a]+s.substr(d+1),d=0,v=s.length,a=s.charCodeAt(0)):(a=e.remap[a],e.remap.variant&&(e=this.FONTDATA.VARIANT[e.remap.variant]));this.FONTDATA.REMAP[a]&&!e.noRemap&&(a=this.FONTDATA.REMAP[a],a instanceof Array&&(e=this.FONTDATA.VARIANT[a[1]],a=a[0]),typeof a=="string"&&(s=a+s.substr(d+1),d=0,v=s.length,a=a.charCodeAt(0))),h=this.lookupChar(e,a),l=h[a],l?(l=[n,h.id+"-"+a.toString(16).toUpperCase()].concat(l),o.Add(u.GLYPH.apply(u,l),o.w,0)):this.FONTDATA.DELIMITERS[a]?o.Add(this.createDelimiter(a,0,1,h),o.w,0):(a<=65535?l=String.fromCharCode(a):(f=a-65536,l=String.fromCharCode((f>>10)+55296)+String.fromCharCode((f&1023)+56320)),s=u.TEXT(n,l,{"font-family":e.defaultFamily||r.config.undefinedFamily,"font-style":e.italic?"italic":"","font-weight":e.bold?"bold":""}),e.h!=null&&(s.h=e.h),e.d!=null&&(s.d=e.d),l=u.G(),l.Add(s),o.Add(l,o.w,0),s="",t.signal.Post(["SVG Jax - unknown char",a,e]))}return s.length==1&&h.skew&&h.skew[a]&&(o.skew=h.skew[a]*1e3),o.element.childNodes.length===1&&(o.element=o.element.firstChild,o.removeable=!1,o.scale=n),o},lookupChar:function(e,t){var n,r;if(!e.FONTS){var i=this.FONTDATA.FONTS,s=e.fonts||this.FONTDATA.VARIANT.normal.fonts;s instanceof Array||(s=[s]),e.fonts!=s&&(e.fonts=s),e.FONTS=[];for(n=0,r=s.length;n<r;n++)i[s[n]]&&e.FONTS.push(i[s[n]])}for(n=0,r=e.FONTS.length;n<r;n++){var o=e.FONTS[n];typeof o=="string"&&(delete e.FONTS,this.loadFont(o));if(o[t])return o;this.findBlock(o,t)}return{id:"unknown"}},findBlock:function(e,t){if(e.Ranges)for(var n=0,r=e.Ranges.length;n<r;n++){if(t<e.Ranges[n][0])return;if(t<=e.Ranges[n][1]){var i=e.Ranges[n][2];for(var s=e.Ranges.length-1;s>=0;s--)e.Ranges[s][2]==i&&e.Ranges.splice(s,1);this.loadFont(e.directory+"/"+i+".js")}}},loadFont:function(n){t.RestartAfter(e.Require(this.fontDir+"/"+n))},createDelimiter:function(n,s,o,a){o||(o=1);var f=u.G();if(!n)return f.Clean(),delete f.element,f.w=f.r=this.TeX.nulldelimiterspace*o,f;s instanceof Array||(s=[s,s]);var l=s[1];s=s[0];var p={alias:n};while(p.alias)n=p.alias,p=this.FONTDATA.DELIMITERS[n],p||(p={HW:[0,this.FONTDATA.VARIANT[i.VARIANT.NORMAL]]});p.load&&t.RestartAfter(e.Require(this.fontDir+"/fontdata-"+p.load+".js"));for(var d=0,v=p.HW.length;d<v;d++)if(p.HW[d][0]*o>=s-10-r.config.blacker||d==v-1&&!p.stretch)return p.HW[d][2]&&(o*=p.HW[d][2]),p.HW[d][3]&&(n=p.HW[d][3]),this.createChar(o,[n,p.HW[d][1]],a).With({stretched:!0});return p.stretch&&this["extendDelimiter"+p.dir](f,l,p.stretch,o,a),f},createChar:function(e,t,n){var r="",s={fonts:[t[1]],noRemap:!0};n&&n===i.VARIANT.BOLD&&(s.fonts=[t[1]+"-bold",t[1]]),typeof t[1]!="string"&&(s=t[1]);if(t[0]instanceof Array)for(var o=0,u=t[0].length;o<u;o++)r+=String.fromCharCode(t[0][o]);else r=String.fromCharCode(t[0]);var a=this.HandleVariant(s,e,r);return t[2]&&(a.x=t[2]*1e3),t[3]&&(a.y=t[3]*1e3),t[5]&&(a.h+=t[5]*1e3),t[6]&&(a.d+=t[6]*1e3),a},extendDelimiterV:function(e,t,n,i,s){var o=this.createChar(i,n.top||n.ext,s),u=this.createChar(i,n.bot||n.ext,s),a=o.h+o.d+u.h+u.d,f=-o.h;e.Add(o,0,f),f-=o.d;if(n.mid){var l=this.createChar(i,n.mid,s);a+=l.h+l.d}if(t>a){var c=this.createChar(i,n.ext,s),h=n.mid?2:1,p=(t-a)/h,d=(p+100)/(c.h+c.d);while(h-->0){var v=r.Element("g",{transform:"translate("+c.y+","+(f-d*c.h+50+c.y)+") scale(1,"+d+")"});v.appendChild(c.element.cloneNode(!1)),e.element.appendChild(v),f-=p,n.mid&&h&&(e.Add(l,0,f-l.h),f-=l.h+l.d)}}else n.mid?(f+=(a-t)/2,e.Add(l,0,f-l.h),f+=-(l.h+l.d)+(a-t)/2):f+=a-t;e.Add(u,0,f-u.h),e.Clean(),e.scale=i,e.isMultiChar=!0},extendDelimiterH:function(e,t,n,i,s){var o=this.createChar(i,n.left||n.rep,s),u=this.createChar(i,n.right||n.rep,s);e.Add(o,-o.l,0);var a=o.r-o.l+(u.r-u.l),f=o.r-o.l;if(n.mid){var l=this.createChar(i,n.mid,s);a+=l.w}if(t>a){var c=this.createChar(i,n.rep,s),h=n.fuzz||0,p=n.mid?2:1,d=(t-a)/p,v=(d+h)/(c.r-c.l);while(p-->0){var m=r.Element("g",{transform:"translate("+(f-h/2-v*c.l+c.x)+","+c.y+") scale("+v+",1)"});m.appendChild(c.element.cloneNode(!1)),e.element.appendChild(m),f+=d,n.mid&&p&&(e.Add(l,f,0),f+=l.w)}}else if(n.mid){var g=Math.min(a-t,o.w/2);f-=g/2,e.Add(l,f,0),f+=l.w-g/2}else f-=a-t;e.Add(u,f-u.l,0),e.Clean(),e.scale=i,e.isMultiChar=!0},MATHSPACE:{veryverythinmathspace:1/18,verythinmathspace:2/18,thinmathspace:3/18,mediummathspace:4/18,thickmathspace:5/18,verythickmathspace:6/18,veryverythickmathspace:7/18,negativeveryverythinmathspace:-1/18,negativeverythinmathspace:-2/18,negativethinmathspace:-3/18,negativemediummathspace:-4/18,negativethickmathspace:-5/18,negativeverythickmathspace:-6/18,negativeveryverythickmathspace:-7/18},TeX:{x_height:430.554,quad:1e3,num1:676.508,num2:393.732,num3:443.73,denom1:685.951,denom2:344.841,sup1:412.892,sup2:362.892,sup3:288.888,sub1:150,sub2:247.217,sup_drop:386.108,sub_drop:50,delim1:2390,delim2:1e3,axis_height:250,rule_thickness:60,big_op_spacing1:111.111,big_op_spacing2:166.666,big_op_spacing3:200,big_op_spacing4:600,big_op_spacing5:100,scriptspace:100,nulldelimiterspace:120,delimiterfactor:901,delimitershortfall:100,min_rule_thickness:1.25,min_root_space:1.5},BIGDIMEN:1e7,NBSP:" "});var u=r.BBOX=MathJax.Object.Subclass({type:"g",removeable:!0,Init:function(e){this.h=this.d=-r.BIGDIMEN,this.H=this.D=0,this.w=this.r=0,this.l=r.BIGDIMEN,this.x=this.y=0,this.scale=1,this.n=0,this.type&&(this.element=r.Element(this.type,e))},With:function(e){return t.Insert(this,e)},Add:function(e,t,n,r,i){t&&(e.x+=t),n&&(e.y+=n);if(e.element){if(e.removeable&&e.element.childNodes.length===1&&e.n===1){var s=e.element.firstChild;if(s.nodeName==="use"||s.nodeName==="rect"){e.element=s,e.scale=e.childScale;var o=e.childX,u=e.childY;e.x+=o,e.y+=u,e.h-=u,e.d+=u,e.H-=u,e.D+=u,e.w-=o,e.r-=o,e.l+=o,e.removeable=!1}}Math.abs(e.x)<1&&Math.abs(e.y)<1?e.remove=e.removeable:e.element.nodeName==="g"?e.element.firstChild?e.element.setAttribute("transform","translate("+Math.floor(e.x)+","+Math.floor(e.y)+")"):e.remove=e.removeable:e.element.nodeName==="line"||e.element.nodeName==="polygon"||e.element.nodeName==="path"||e.element.nodeName==="a"?e.element.setAttribute("transform","translate("+Math.floor(e.x)+","+Math.floor(e.y)+")"):(e.element.setAttribute("x",Math.floor(e.x/e.scale)),e.element.setAttribute("y",Math.floor(e.y/e.scale)));if(e.remove){this.n+=e.n;while(e.element.firstChild)i&&this.element.firstChild?this.element.insertBefore(e.element.firstChild,this.element.firstChild):this.element.appendChild(e.element.firstChild)}else i?this.element.insertBefore(e.element,this.element.firstChild):this.element.appendChild(e.element);delete e.element}e.hasIndent&&(this.hasIndent=e.hasIndent),e.d-e.y>this.d&&(this.d=e.d-e.y,this.d>this.D&&(this.D=this.d)),e.y+e.h>this.h&&(this.h=e.y+e.h,this.h>this.H&&(this.H=this.h)),e.D-e.y>this.D&&(this.D=e.D-e.y),e.y+e.H>this.H&&(this.H=e.y+e.H),e.x+e.l<this.l&&(this.l=e.x+e.l),e.x+e.r>this.r&&(this.r=e.x+e.r);if(r||e.x+e.w+(e.X||0)>this.w)this.w=e.x+e.w+(e.X||0);return this.childScale=e.scale,this.childX=e.x,this.childY=e.y,this.n++,e},Align:function(e,t,n,r){n={left:n,center:(this.w-e.w)/2,right:this.w-e.w-n}[t]||0,this.Add(e,n,r)},Clean:function(){return this.h===-r.BIGDIMEN&&(this.h=this.d=this.l=0),this}});u.ROW=u.Subclass({Init:function(){this.SUPER(arguments).Init.call(this),this.svg=[],this.sh=this.sd=0},Check:function(e){var t=e.toSVG();this.svg.push(t),e.SVGcanStretch("Vertical")&&(t.mml=e),t.h>this.sh&&(this.sh=t.h),t.d>this.sd&&(this.sd=t.d)},Stretch:function(){for(var e=0,t=this.svg.length;e<t;e++){var n=this.svg[e];n.mml&&(n=n.mml.SVGstretchV(this.sh,this.sd)),n.ic?this.ic=n.ic:delete this.ic,this.Add(n,this.w,0,!0)}delete this.svg}}),u.RECT=u.Subclass({type:"rect",removeable:!1,Init:function(e,t,n,r){r==null&&(r={stroke:"none"}),r.width=Math.floor(n),r.height=Math.floor(e+t),this.SUPER(arguments).Init.call(this,r),this.w=this.r=n,this.h=this.H=e+t,this.d=this.D=this.l=0,this.y=-t}}),u.FRAME=u.Subclass({type:"rect",removeable:!1,Init:function(e,t,n,i,s,o,u){u==null&&(u={}),u.fill="none",u["stroke-width"]=i.toFixed(2).replace(/\.?0+$/,""),u.width=Math.floor(n-i),u.height=Math.floor(e+t-i),u.transform="translate("+Math.floor(i/2)+","+Math.floor(-t+i/2)+")",s==="dashed"&&(u["stroke-dasharray"]=[Math.floor(6*r.em),Math.floor(6*r.em)].join(" ")),this.SUPER(arguments).Init.call(this,u),this.w=this.r=n,this.h=this.H=e,this.d=this.D=t,this.l=0}}),u.HLINE=u.Subclass({type:"line",removeable:!1,Init:function(e,t,n,r,i){i==null&&(i={}),r&&r!==""&&(i.stroke=r),i["stroke-width"]=t.toFixed(2).replace(/\.?0+$/,""),i.x1=0,i.y1=i.y2=t/2,i.x2=Math.floor(e);if(n==="dashed"){var s=Math.floor(e/(6*t)),o=Math.floor(e/(2*s+1));i["stroke-dasharray"]=o+" "+o}this.SUPER(arguments).Init.call(this,i),this.w=this.r=e,this.l=0,this.h=this.H=t,this.d=this.D=0}}),u.VLINE=u.Subclass({type:"line",removeable:!1,Init:function(e,t,n,r,i){i==null&&(i={}),r&&r!==""&&(i.stroke=r),i["stroke-width"]=t.toFixed(2).replace(/\.?0+$/,""),i.x1=i.x2=t/2,i.y1=0,i.y2=Math.floor(e);if(n==="dashed"){var s=Math.floor(e/(6*t)),o=Math.floor(e/(2*s+1));i["stroke-dasharray"]=o+" "+o}this.SUPER(arguments).Init.call(this,i),this.w=this.r=t,this.l=0,this.h=this.H=e,this.d=this.D=0}}),u.TEXT=u.Subclass({type:"text",removeable:!1,Init:function(e,t,n){n||(n={}),n.stroke="none",this.SUPER(arguments).Init.call(this,n),r.addText(this.element,t),r.textSVG.appendChild(this.element);var i=this.element.getBBox();r.textSVG.removeChild(this.element),e*=1e3/r.em,this.element.setAttribute("transform","scale("+e+") matrix(1 0 0 -1 0 0)"),this.w=this.r=i.width*e,this.l=0,this.h=this.H=-i.y*e,this.d=this.D=(i.height+i.y)*e}}),u.G=u,u.NULL=u.Subclass({Init:function(){this.SUPER(arguments).Init.apply(this,arguments),this.Clean()}});var a,f;u.GLYPH=u.Subclass({type:"path",removeable:!1,Init:function(e,t,n,i,s,u,l,c){var h,p=r.config.blacker;a[t]||(h={id:t,"stroke-width":p},c!==""&&(h.d="M"+c+"Z"),this.SUPER(arguments).Init.call(this,h),f.appendChild(this.element),a[t]=!0),h={},e!==1&&(h.transform="scale("+e+")"),this.element=r.Element("use",h),this.element.setAttributeNS(o,"href","#"+t),this.h=(n+p)*e,this.d=(i+p)*e,this.w=(s+p/2)*e,this.l=(u+p/2)*e,this.r=(l+p/2)*e,this.H=Math.max(0,this.h),this.D=Math.max(0,this.d),this.x=this.y=0,this.scale=e}}),t.Register.StartupHook("mml Jax Ready",function(){i=MathJax.ElementJax.mml,i.mbase.Augment({SVG:u,toSVG:function(){this.SVGgetStyles();var e=this.SVGgetVariant(),t=this.SVG();t.scale=this.SVGgetScale(),this.SVGhandleSpace(t);for(var n=0,r=this.data.length;n<r;n++)if(this.data[n]){var i=t.Add(this.data[n].toSVG(e,t.scale),t.w,0,!0);i.skew&&(t.skew=i.skew)}t.Clean();var s=this.data.join("");return t.skew&&s.length!==1&&delete t.skew,t.r>t.w&&s.length===1&&!e.noIC&&(t.ic=t.r-t.w,t.w=t.r),this.SVGhandleColor(t),this.SVGsaveData(t),t},SVGdataStretched:function(e,t,n){return this.SVGdata={HW:t,D:n},n!=null?this.data[e].SVGstretchV(t,n):t!=null?this.data[e].SVGstretchH(t):this.data[e].toSVG()},SVGsaveData:function(e){this.SVGdata||(this.SVGdata={}),this.SVGdata.w=e.w,this.SVGdata.x=e.x,e.X!=null&&(this.SVGdata.X=e.X),this["class"]&&(e.removeable=!1,r.Element(e.element,{"class":this["class"]})),this.id&&(e.removeable=!1,r.Element(e.element,{id:this.id}));if(this.href){var t=r.Element("a");t.setAttributeNS(o,"href",this.href),r.addElement(t,"rect",{width:e.w,height:e.h+e.d,y:-e.d,fill:"none",stroke:"none","pointer-events":"all"});if(e.type==="svg"){var n=e.element.firstChild;while(n.firstChild)t.appendChild(n.firstChild);n.appendChild(t)}else{if(e.removeable&&e.element.nodeName==="g")while(e.element.firstChild)t.appendChild(e.element.firstChild);else t.appendChild(e.element);e.element=t}e.removeable=!1}r.config.addMMLclasses&&(e.removeable=!1,e.element.setAttribute("className","mjx-svg-"+this.type));var i=this.Get("style");i&&(e.element.style.cssText=i,e.element.style.fontSize&&(e.element.style.fontSize=""),e.element.style.border=e.element.style.padding="",e.removeable&&(e.removeable=e.element.style.cssText===""))},SVGgetStyles:function(){if(this.style){var e=n.Element("span");e.style.cssText=this.style,this.styles={border:r.getBorders(e),padding:r.getPadding(e)},e.style.fontSize&&(this.styles.fontSize=e.style.fontSize),e.style.color&&(this.styles.color=e.style.color),e.style.backgroundColor&&(this.styles.background=e.style.backgroundColor),e.style.fontStyle&&(this.styles.fontStyle=e.style.fontStyle),e.style.fontWeight&&(this.styles.fontWeight=e.style.fontWeight),e.style.fontFamily&&(this.styles.fontFamily=e.style.fontFamily),this.styles.fontWeight&&this.styles.fontWeight.match(/^\d+$/)&&(this.styles.fontWeight=parseInt(this.styles.fontWeight)>600?"bold":"normal")}},SVGhandleSpace:function(e){if(this.useMMLspacing){if(this.type!=="mo")return;var t=this.getValues("scriptlevel","lspace","rspace");if(t.scriptlevel<=0||this.hasValue("lspace")||this.hasValue("rspace")){var n=this.SVGgetMu(e);t.lspace=Math.max(0,r.length2em(t.lspace,n)),t.rspace=Math.max(0,r.length2em(t.rspace,n));var i=this,s=this.Parent();while(s&&s.isEmbellished()&&s.Core()===i)i=s,s=s.Parent();t.lspace&&(e.x+=t.lspace),t.rspace&&(e.X=t.rspace)}}else{var o=this.texSpacing();o!==""&&(e.x+=r.length2em(o,this.SVGgetScale())/e.scale)}},SVGhandleColor:function(e){var t=this.getValues("mathcolor","color");this.styles&&this.styles.color&&!t.color&&(t.color=this.styles.color),t.color&&!this.mathcolor&&(t.mathcolor=t.color),t.mathcolor&&(r.Element(e.element,{fill:t.mathcolor,stroke:t.mathcolor}),e.removeable=!1);var n=(this.styles||{}).border,s=(this.styles||{}).padding,o=(n||{}).left||0,a=(s||{}).left||0,f;t.background=this.mathbackground||this.background||(this.styles||{}).background||i.COLOR.TRANSPARENT;if(o+a){var l=u();for(f in e)e.hasOwnProperty(f)&&(l[f]=e[f]);l.x=0,l.y=0,e.element=r.Element("g"),e.removeable=!0,e.Add(l,o+a,0)}s&&(e.w+=s.right,e.h+=s.top,e.d+=s.bottom),n&&(e.w+=n.right,e.h+=n.top,e.d+=n.bottom);if(t.background!==i.COLOR.TRANSPARENT){if(e.element.nodeName!=="g"&&e.element.nodeName!=="svg"){var c=r.Element("g");c.appendChild(e.element),e.element=c,e.removable=!0}e.Add(u.RECT(e.h,e.d,e.w,{fill:t.background,stroke:"none"}),0,0,!1,!0)}if(n){var h=5,p={left:["V",e.h+e.d,-h,-e.d],right:["V",e.h+e.d,e.w-n.right+h,-e.d],top:["H",e.w,0,e.h-n.top+h],bottom:["H",e.w,0,-e.d-h]};for(f in p)if(p.hasOwnProperty(f)&&n[f]){var d=p[f],v=u[d[0]+"LINE"];e.Add(v(d[1],n[f],n[f+"Style"],n[f+"Color"]),d[2],d[3])}}},SVGhandleVariant:function(e,t,n){return r.HandleVariant(e,t,n)},SVGgetVariant:function(){var e=this.getValues("mathvariant","fontfamily","fontweight","fontstyle"),t=e.mathvariant;return this.variantForm&&(t="-TeX-variant"),e.hasVariant=this.Get("mathvariant",!0),e.hasVariant||(e.family=e.fontfamily,e.weight=e.fontweight,e.style=e.fontstyle),this.styles&&(!e.style&&this.styles.fontStyle&&(e.style=this.styles.fontStyle),!e.weight&&this.styles.fontWeight&&(e.weight=this.styles.fontWeight),!e.family&&this.styles.fontFamily&&(e.family=this.styles.fontFamily)),e.family&&!e.hasVariant?(!e.weight&&e.mathvariant.match(/bold/)&&(e.weight="bold"),!e.style&&e.mathvariant.match(/italic/)&&(e.style="italic"),t={forceFamily:!0,font:{"font-family":e.family}},e.style&&(t.font["font-style"]=e.style),e.weight&&(t.font["font-weight"]=e.weight),t):(e.weight==="bold"?t={normal:i.VARIANT.BOLD,italic:i.VARIANT.BOLDITALIC,fraktur:i.VARIANT.BOLDFRAKTUR,script:i.VARIANT.BOLDSCRIPT,"sans-serif":i.VARIANT.BOLDSANSSERIF,"sans-serif-italic":i.VARIANT.SANSSERIFBOLDITALIC}[t]||t:e.weight==="normal"&&(t={bold:i.VARIANT.normal,"bold-italic":i.VARIANT.ITALIC,"bold-fraktur":i.VARIANT.FRAKTUR,"bold-script":i.VARIANT.SCRIPT,"bold-sans-serif":i.VARIANT.SANSSERIF,"sans-serif-bold-italic":i.VARIANT.SANSSERIFITALIC}[t]||t),e.style==="italic"?t={normal:i.VARIANT.ITALIC,bold:i.VARIANT.BOLDITALIC,"sans-serif":i.VARIANT.SANSSERIFITALIC,"bold-sans-serif":i.VARIANT.SANSSERIFBOLDITALIC}[t]||t:e.style==="normal"&&(t={italic:i.VARIANT.NORMAL,"bold-italic":i.VARIANT.BOLD,"sans-serif-italic":i.VARIANT.SANSSERIF,"sans-serif-bold-italic":i.VARIANT.BOLDSANSSERIF}[t]||t),r.FONTDATA.VARIANT[t])},SVGgetScale:function(){var e=1,t=this.getValues("mathsize","scriptlevel","fontsize");return(this.styles||{}).fontSize&&!t.fontsize&&(t.fontsize=this.styles.fontSize),t.fontsize&&!this.mathsize&&(t.mathsize=t.fontsize),t.scriptlevel!==0&&(t.scriptlevel>2&&(t.scriptlevel=2),e=Math.pow(this.Get("scriptsizemultiplier"),t.scriptlevel),t.scriptminsize=r.length2em(this.Get("scriptminsize"))/1e3,e<t.scriptminsize&&(e=t.scriptminsize)),e*=r.length2em(t.mathsize)/1e3,e},SVGgetMu:function(e){var t=1,n=this.getValues("scriptlevel","scriptsizemultiplier");return e.scale&&e.scale!==1&&(t=1/e.scale),n.scriptlevel!==0&&(n.scriptlevel>2&&(n.scriptlevel=2),t=Math.sqrt(Math.pow(n.scriptsizemultiplier,n.scriptlevel))),t},SVGnotEmpty:function(e){while(e){if(e.type!=="mrow"&&e.type!=="texatom"||e.data.length>1)return!0;e=e.data[0]}return!1},SVGcanStretch:function(e){return this.isEmbellished()?this.Core().SVGcanStretch(e):!1},SVGstretchV:function(e,t){return this.toSVG(e,t)},SVGstretchH:function(e){return this.toSVG(e)},SVGlineBreaks:function(){return!1}},{SVGautoload:function(){var n=r.autoloadDir+"/"+this.type+".js";t.RestartAfter(e.Require(n))},SVGautoloadFile:function(n){var i=r.autoloadDir+"/"+n+".js";t.RestartAfter(e.Require(i))}}),i.chars.Augment({toSVG:function(e,t,n,r){var i=this.data.join("").replace(/[\u2061-\u2064]/g,"");return n&&(i=n(i,r)),this.SVGhandleVariant(e,t,i)}}),i.entity.Augment({toSVG:function(e,t){return this.SVGhandleVariant(e,t,this.toString().replace(/[\u2061-\u2064]/g,""))}}),i.mo.Augment({toSVG:function(){this.SVGgetStyles();var e=this.svg=this.SVG();this.SVGhandleSpace(e);if(this.data.length==0)return e.Clean(),this.SVGsaveData(e),e;var t=this.SVGgetScale(),n=this.SVGgetVariant(),s=this.getValues("largeop","displaystyle");s.largeop&&(n=r.FONTDATA.VARIANT[s.displaystyle?"-largeOp":"-smallOp"]);var o=this.CoreParent(),u=o&&o.isa(i.msubsup)&&this!==o.data[0],a=u?this.SVGremapChars:null;if(this.data.join("").length===1&&o&&o.isa(i.munderover)&&this.CoreText(o.data[o.base]).length===1){var f=o.data[o.over],l=o.data[o.under];f&&this===f.CoreMO()&&o.Get("accent")?a=r.FONTDATA.REMAPACCENT:l&&this===l.CoreMO()&&o.Get("accentunder")&&(a=r.FONTDATA.REMAPACCENTUNDER)}for(var c=0,h=this.data.length;c<h;c++)if(this.data[c]){var p=this.data[c].toSVG(n,t,this.SVGremap,a),d=e.w;d===0&&-p.l>10*p.w&&(d+=-p.l),e.Add(p,d,0,!0),p.skew&&(e.skew=p.skew)}return e.Clean(),this.data.join("").length!==1&&delete e.skew,s.largeop&&(e.y=(e.h-e.d)/2/t-r.TeX.axis_height,e.r>e.w&&(e.ic=e.r-e.w,e.w=e.r)),this.SVGhandleColor(e),this.SVGsaveData(e),e},CoreParent:function(){var e=this;while(e&&e.isEmbellished()&&e.CoreMO()===this&&!e.isa(i.math))e=e.Parent();return e},CoreText:function(e){if(!e)return"";if(e.isEmbellished())return e.CoreMO().data.join("");while(e.isa(i.mrow)&&e.data.length===1&&e.data[0])e=e.data[0];return e.isToken?e.data.join(""):""},SVGremapChars:{"*":"∗",'"':"″","°":"∘","²":"2","³":"3","´":"′","¹":"1"},SVGremap:function(e,t){return e=e.replace(/-/g,"−"),t&&(e=e.replace(/'/g,"′").replace(/`/g,"‵"),e.length===1&&(e=t[e]||e)),e},SVGcanStretch:function(e){if(!this.Get("stretchy"))return!1;var t=this.data.join("");if(t.length>1)return!1;var n=this.CoreParent();if(n&&n.isa(i.munderover)&&this.CoreText(n.data[n.base]).length===1){var s=n.data[n.over],o=n.data[n.under];s&&this===s.CoreMO()&&n.Get("accent")?t=r.FONTDATA.REMAPACCENT[t]||t:o&&this===o.CoreMO()&&n.Get("accentunder")&&(t=r.FONTDATA.REMAPACCENTUNDER[t]||t)}t=r.FONTDATA.DELIMITERS[t.charCodeAt(0)];var u=t&&t.dir==e.substr(0,1);return u||delete this.svg,u},SVGstretchV:function(e,t){var n=this.svg||this.toSVG(),i=this.getValues("symmetric","maxsize","minsize"),s=r.TeX.axis_height,o=this.SVGgetMu(n),u;return i.symmetric?u=2*Math.max(e-s,t+s):u=e+t,i.maxsize=r.length2em(i.maxsize,o,n.h+n.d),i.minsize=r.length2em(i.minsize,o,n.h+n.d),u=Math.max(i.minsize,Math.min(i.maxsize,u)),n=r.createDelimiter(this.data.join("").charCodeAt(0),u,n.scale),i.symmetric?u=(n.h+n.d)/2+s:u=(n.h+n.d)*e/(e+t),n.y=u-n.h,this.SVGhandleSpace(n),this.SVGhandleColor(n),delete this.svg,this.SVGsaveData(n),n},SVGstretchH:function(e){var t=this.svg||this.toSVG(),n=this.SVGgetMu(t),s=this.getValues("maxsize","minsize","mathvariant","fontweight");return(s.fontweight==="bold"||parseInt(s.fontweight)>=600)&&!this.Get("mathvariant",!0)&&(s.mathvariant=i.VARIANT.BOLD),s.maxsize=r.length2em(s.maxsize,n,t.w),s.minsize=r.length2em(s.minsize,n,t.w),e=Math.max(s.minsize,Math.min(s.maxsize,e)),t=r.createDelimiter(this.data.join("").charCodeAt(0),e,t.scale,s.mathvariant),this.SVGhandleSpace(t),this.SVGhandleColor(t),delete this.svg,this.SVGsaveData(t),t}}),i.mtext.Augment({toSVG:function(){this.SVGgetStyles();var e,t,n=this.SVGgetScale();return this.Parent().type==="merror"?(e=this.SVG(),this.SVGhandleSpace(e),t=u.G(),t.Add(u.TEXT(.9*n,this.data.join(""),{fill:"#C00"})),e.Add(u.RECT(t.h+100,t.d+100,t.w+200,{fill:"#FF8",stroke:"#C00","stroke-width":50}),0,0),e.Add(t,150,0),e.H+=150,e.D+=50,e.Clean(),this.SVGsaveData(e),e):r.config.mtextFontInherit?(e=this.SVG(),this.SVGhandleSpace(e),e.Add(u.TEXT(n,this.data.join(""))),e.Clean(),this.SVGhandleColor(e),this.SVGsaveData(e),e):this.SUPER(arguments).toSVG.call(this)}}),i.ms.Augment({toSVG:i.mbase.SVGautoload}),i.mglyph.Augment({toSVG:i.mbase.SVGautoload}),i.mspace.Augment({toSVG:function(){this.SVGgetStyles();var e=this.getValues("height","depth","width");e.mathbackground=this.mathbackground,this.background&&!this.mathbackground&&(e.mathbackground=this.background);var t=this.SVG(),n=this.SVGgetMu(t);return t.h=r.length2em(e.height,n)/t.scale,t.d=r.length2em(e.depth,n)/t.scale,t.w=t.r=r.length2em(e.width,n)/t.scale,t.w<0&&(t.x=t.w,t.w=t.r=0),t.h<-t.d&&(t.d=-t.h),t.l=0,t.Clean(),this.SVGhandleColor(t),this.SVGsaveData(t),t}}),i.mphantom.Augment({toSVG:function(e,t){this.SVGgetStyles();var n=this.SVG();if(this.data[0]!=null){this.SVGhandleSpace(n),n.Add(this.SVGdataStretched(0,e,t)),n.Clean();while(n.element.firstChild)n.element.removeChild(n.element.firstChild)}return this.SVGhandleColor(n),n.element.firstChild||delete n.element,this.SVGsaveData(n),n}}),i.mpadded.Augment({toSVG:function(e,t){this.SVGgetStyles();var n=this.SVG();if(this.data[0]!=null){this.SVGhandleSpace(n);var r=this.SVGdataStretched(0,e,t),i=this.SVGgetMu(n),s=this.getValues("height","depth","width","lspace","voffset"),o=0,u=0;s.lspace&&(o=this.SVGlength2em(r,s.lspace,i)),s.voffset&&(u=this.SVGlength2em(r,s.voffset,i));var a=r.h,f=r.d,l=r.w;n.Add(r,o,u),n.Clean(),n.h=a,n.d=f,n.w=l,n.removeable=!1,s.height!==""&&(n.h=this.SVGlength2em(n,s.height,i,"h",0)),s.depth!==""&&(n.d=this.SVGlength2em(n,s.depth,i,"d",0)),s.width!==""&&(n.w=this.SVGlength2em(n,s.width,i,"w",0)),n.h>n.H&&(n.H=n.h),n.d>n.D&&(n.D=n.d)}return this.SVGhandleColor(n),this.SVGsaveData(n),n},SVGlength2em:function(e,t,n,i,s){s==null&&(s=-r.BIGDIMEN);var o=String(t).match(/width|height|depth/),u=o?e[o[0].charAt(0)]:i?e[i]:0,a=r.length2em(t,n,u);return i&&String(t).match(/^\s*[-+]/)?Math.max(s,e[i]+a):a}}),i.mrow.Augment({SVG:u.ROW,toSVG:function(){this.SVGgetStyles();var e=this.SVG();this.SVGhandleSpace(e);for(var t=0,n=this.data.length;t<n;t++)this.data[t]&&e.Check(this.data[t]);return e.Stretch(),e.Clean(),this.SVGlineBreaks(e)&&(e=this.SVGmultiline(e)),this.SVGhandleColor(e),this.SVGsaveData(e),e},SVGlineBreaks:function(e){return this.parent.linebreakContainer?r.config.linebreaks.automatic&&e.w>r.linebreakWidth||this.hasNewline():!1},SVGmultiline:function(e){i.mbase.SVGautoloadFile("multiline")},SVGstretchH:function(e){var t=this.data[this.core].SVGstretchH(e);return this.SVGhandleColor(t),this.SVGsaveData(t),t},SVGstretchV:function(e,t){var n=this.data[this.core].SVGstretchV(e,t);return this.SVGhandleColor(n),this.SVGsaveData(n),n}}),i.mstyle.Augment({toSVG:function(){this.SVGgetStyles();var e=this.SVG();if(this.data[0]!=null){this.SVGhandleSpace(e);var t=e.Add(this.data[0].toSVG());e.Clean(),t.ic&&(e.ic=t.ic),this.SVGhandleColor(e)}return this.SVGsaveData(e),e},SVGstretchH:function(e){return this.data[0]!=null?this.data[0].SVGstretchH(e):u.NULL()},SVGstretchV:function(e,t){return this.data[0]!=null?this.data[0].SVGstretchV(e,t):u.NULL()}}),i.mfrac.Augment({toSVG:function(){this.SVGgetStyles();var e=this.SVG();this.SVGhandleSpace(e);var t=this.data[0].toSVG(),n=this.data[1].toSVG(),i=this.getValues("displaystyle","linethickness","numalign","denomalign","bevelled"),s=e.scale=this.SVGgetScale(),o=i.displaystyle,a=r.TeX.axis_height*s;if(i.bevelled){var f=o?400:150,l=Math.max(t.h+t.d,n.h+n.d)+2*f,c=r.createDelimiter(47,l);e.Add(t,0,(t.d-t.h)/2+a+f),e.Add(c,t.w-f/2,(c.d-c.h)/2+a),e.Add(n,t.w+c.w-f,(n.d-n.h)/2+a-f)}else{var h=Math.max(t.w,n.w),p=r.thickness2em(i.linethickness,s),d,v,m,g,y=r.TeX.min_rule_thickness/r.em*1e3;o?(m=r.TeX.num1,g=r.TeX.denom1):(m=p===0?r.TeX.num3:r.TeX.num2,g=r.TeX.denom2),m*=s,g*=s,p===0?(d=Math.max((o?7:3)*r.TeX.rule_thickness,2*y),v=m-t.d-(n.h-g),v<d&&(m+=(d-v)/2,g+=(d-v)/2),e.w=h,p=0):(d=Math.max((o?2:0)*y+p,p/2+1.5*y),v=m-t.d-(a+p/2),v<d&&(m+=d-v),v=a-p/2-(n.h-g),v<d&&(g+=d-v),e.Add(u.RECT(p/2,p/2,h+2*p),0,a)),e.Align(t,i.numalign,p,m),e.Align(n,i.denomalign,p,-g)}return e.Clean(),this.SVGhandleColor(e),this.SVGsaveData(e),e},SVGcanStretch:function(e){return!1},SVGhandleSpace:function(e){this.texWithDelims||(e.x=(this.useMMLspacing?0:r.length2em(this.texSpacing()||0))+120,e.X=120)}}),i.msqrt.Augment({toSVG:function(){this.SVGgetStyles();var e=this.SVG();this.SVGhandleSpace(e);var t=this.data[0].toSVG(),n,i,s=this.SVGgetScale(),o=r.TeX.rule_thickness*s,a,f,l,c=0;return this.Get("displaystyle")?a=r.TeX.x_height*s:a=o,f=Math.max(o+a/4,1e3*r.TeX.min_root_space/r.em),l=t.h+t.d+f+o,i=r.createDelimiter(8730,l,s),i.h+i.d>l&&(f=(i.h+i.d-(l-o))/2),n=u.RECT(o,0,t.w),l=t.h+f+o,c=this.SVGaddRoot(e,i,c,i.h+i.d-l,s),e.Add(i,c,l-i.h),e.Add(n,c+i.w,l-n.h),e.Add(t,c+i.w,0),e.Clean(),e.h+=o,e.H+=o,this.SVGhandleColor(e),this.SVGsaveData(e),e},SVGaddRoot:function(e,t,n,r,i){return n}}),i.mroot.Augment({toSVG:i.msqrt.prototype.toSVG,SVGaddRoot:function(e,t,n,r,i){var s=(t.isMultiChar?.55:.65)*t.w;if(this.data[1]){var o=this.data[1].toSVG();o.x=0;var u=this.SVGrootHeight(t.h+t.d,i,o)-r,a=Math.min(o.w,o.r);n=Math.max(a,s),e.Add(o,n-a,u)}else s=n;return n-s},SVGrootHeight:function(e,t,n){return.45*(e-900*t)+600*t+Math.max(0,n.d-75)}}),i.mfenced.Augment({SVG:u.ROW,toSVG:function(){this.SVGgetStyles();var e=this.SVG();this.SVGhandleSpace(e),this.data.open&&e.Check(this.data.open),this.data[0]!=null&&e.Check(this.data[0]);for(var t=1,n=this.data.length;t<n;t++)this.data[t]&&(this.data["sep"+t]&&e.Check(this.data["sep"+t]),e.Check(this.data[t]));return this.data.close&&e.Check(this.data.close),e.Stretch(),e.Clean(),this.SVGhandleColor(e),this.SVGsaveData(e),e}}),i.menclose.Augment({toSVG:i.mbase.SVGautoload}),i.maction.Augment({toSVG:i.mbase.SVGautoload}),i.semantics.Augment({toSVG:function(){this.SVGgetStyles();var e=this.SVG();return this.data[0]!=null?(this.SVGhandleSpace(e),e.Add(this.data[0].toSVG()),e.Clean()):e.Clean(),this.SVGsaveData(e),e},SVGstretchH:function(e){return this.data[0]!=null?this.data[0].SVGstretchH(e):u.NULL()},SVGstretchV:function(e,t){return this.data[0]!=null?this.data[0].SVGstretchV(e,t):u.NULL()}}),i.munderover.Augment({toSVG:function(e,t){this.SVGgetStyles();var n=this.getValues("displaystyle","accent","accentunder","align");if(!n.displaystyle&&this.data[this.base]!=null&&this.data[this.base].CoreMO().Get("movablelimits"))return i.msubsup.prototype.toSVG.call(this);var s=this.SVG();this.SVGhandleSpace(s);var o=s.scale=this.SVGgetScale(),a=[],f=[],l,c,h,p=-r.BIGDIMEN,d=p;for(c=0,h=this.data.length;c<h;c++)this.data[c]!=null&&(c==this.base?(a[c]=this.SVGdataStretched(c,e,t),f[c]=(t!=null||e==null)&&this.data[c].SVGcanStretch("Horizontal")):(a[c]=this.data[c].toSVG(),f[c]=this.data[c].SVGcanStretch("Horizontal")),a[c].w>d&&(d=a[c].w),!f[c]&&d>p&&(p=d));t==null&&e!=null?p=e:p==-r.BIGDIMEN&&(p=d);for(c=d=0,h=this.data.length;c<h;c++)this.data[c]&&(f[c]&&(a[c]=this.data[c].SVGstretchH(p)),a[c].w>d&&(d=a[c].w));var v=r.TeX.rule_thickness,m=a[this.base]||{w:0,h:0,d:0,H:0,D:0,l:0,r:0,scale:o},y,b,w,E,S,x,T,N=0;m.ic&&(N=1.3*m.ic+.05);for(c=0,h=this.data.length;c<h;c++)if(this.data[c]!=null){l=a[c],S=r.TeX.big_op_spacing5*o;var C=c!=this.base&&n[this.ACCENTS[c]];C&&l.w<=1&&(l.x=-l.l,a[c]=u.G().With({removeable:!1}),a[c].Add(l),a[c].Clean(),a[c].w=-l.l,l=a[c]),x={left:0,center:(d-l.w)/2,right:d-l.w}[n.align],y=x,b=0,c==this.over?(C?(T=v*o,S=0,m.skew&&(y+=m.skew)):(w=r.TeX.big_op_spacing1*o,E=r.TeX.big_op_spacing3*o,T=Math.max(w,E-Math.max(0,l.d))),T=Math.max(T,1500/r.em),y+=N/2,b=m.h+l.d+T,l.h+=S,l.h>l.H&&(l.H=l.h)):c==this.under&&(C?(T=3*v*o,S=0):(w=r.TeX.big_op_spacing2*o,E=r.TeX.big_op_spacing4*o,T=Math.max(w,E-l.h)),T=Math.max(T,1500/r.em),y-=N/2,b=-(m.d+l.h+T),l.d+=S,l.d>l.D&&(l.D=l.d)),s.Add(l,y,b)}return s.Clean(),this.SVGhandleColor(s),this.SVGsaveData(s),s}}),i.msubsup.Augment({toSVG:function(e,t){this.SVGgetStyles();var n=this.SVG();this.SVGhandleSpace(n);var i=n.scale=this.SVGgetScale(),s=this.SVGgetMu(n),o=n.Add(this.SVGdataStretched(this.base,e,t)),u=(this.data[this.sup]||this.data[this.sub]||this).SVGgetScale(),a=r.TeX.x_height*i,f=r.TeX.scriptspace*i,l,c;this.SVGnotEmpty(this.data[this.sup])&&(l=this.data[this.sup].toSVG(),l.w+=f,l.r=Math.max(l.w,l.r)),this.SVGnotEmpty(this.data[this.sub])&&(c=this.data[this.sub].toSVG(),c.w+=f,c.r=Math.max(c.w,c.r));var h=r.TeX.sup_drop*u,p=r.TeX.sub_drop*u,d=o.h-h,v=o.d+p,m=0,g;o.ic&&(o.w-=o.ic,m=1.3*o.ic+.05),this.data[this.base]&&(this.data[this.base].type==="mi"||this.data[this.base].type==="mo")&&this.data[this.base].data.join("").length===1&&o.scale===1&&!o.stretched&&!this.data[this.base].Get("largeop")&&(d=v=0);var y=this.getValues("subscriptshift","superscriptshift");y.subscriptshift=y.subscriptshift===""?0:r.length2em(y.subscriptshift,s),y.superscriptshift=y.superscriptshift===""?0:r.length2em(y.superscriptshift,s);if(!l)c&&(v=Math.max(v,r.TeX.sub1*i,c.h-.8*a,y.subscriptshift),n.Add(c,o.w,-v));else if(!c)values=this.getValues("displaystyle","texprimestyle"),g=r.TeX[values.displaystyle?"sup1":values.texprimestyle?"sup3":"sup2"],d=Math.max(d,g*i,l.d+.25*a,y.superscriptshift),n.Add(l,o.w+m,d);else{v=Math.max(v,r.TeX.sub2*i);var b=r.TeX.rule_thickness*i;d-l.d-(c.h-v)<3*b&&(v=3*b-d+l.d+c.h,h=.8*a-(d-l.d),h>0&&(d+=h,v-=h)),n.Add(l,o.w+m,Math.max(d,y.superscriptshift)),n.Add(c,o.w,-Math.max(v,y.subscriptshift))}return n.Clean(),this.SVGhandleColor(n),this.SVGsaveData(n),n}}),i.mmultiscripts.Augment({toSVG:i.mbase.SVGautoload}),i.mtable.Augment({toSVG:i.mbase.SVGautoload}),i["annotation-xml"].Augment({toSVG:i.mbase.SVGautoload}),i.math.Augment({SVG:u.Subclass({type:"svg",removeable:!1}),toSVG:function(e,s){if(this.data[0]){this.SVGgetStyles(),i.mbase.prototype.displayAlign=t.config.displayAlign,i.mbase.prototype.displayIndent=t.config.displayIndent;var a=u.G({stroke:"black",fill:"black","stroke-thickness":0,transform:"matrix(1 0 0 -1 0 0)"}).With({removeable:!1});a.Add(this.data[0].toSVG(),0,0,!0),a.Clean(),this.SVGhandleColor(a);var f=this.SVG();f.element.setAttribute("xmlns:xlink",o),f.Add(a),f.Clean(),this.SVGsaveData(f);var l=Math.max(-f.l,0),h=Math.max(f.r-f.w,0),p=f.element.style;p.width=r.Ex(l+f.w+h),p.height=r.Ex(f.H+f.D),p.verticalAlign=r.Ex(-f.D-2*r.em),p.marginLeft=r.Ex(-l),p.marginRight=r.Ex(-h),f.element.setAttribute("viewBox",-l+" "+ -f.H+" "+(l+f.w+h)+" "+(f.H+f.D)),f.element.style.margin="1px 0px";if(f.H>f.h||f.D>f.d){var d=n.Element("span",{style:{display:"inline-block","white-space":"nowrap",padding:"1px 0px"},isMathJax:!0},[["span",{style:{display:"inline-block",position:"relative",isMathJax:!0,width:r.Ex(f.w),height:r.Ex(f.h+f.d),"vertical-align":r.Ex(-f.d)}}]]);d.firstChild.appendChild(f.element),f.element=d,p.verticalAlign="",p.position="absolute",p.bottom=r.Ex(f.d-f.D),p.left=0}e.appendChild(f.element),f.element=null;if(!this.isMultiline&&this.Get("display")==="block"){var v=this.getValues("indentalignfirst","indentshiftfirst","indentalign","indentshift");v.indentalignfirst!==i.INDENTALIGN.INDENTALIGN&&(v.indentalign=v.indentalignfirst),v.indentalign===i.INDENTALIGN.AUTO&&(v.indentalign=this.displayAlign),s.style.textAlign=v.indentalign,v.indentshiftfirst!==i.INDENTSHIFT.INDENTSHIFT&&(v.indentshift=v.indentshiftfirst),v.indentshift==="auto"&&(v.indentshift=this.displayIndent),v.indentshift&&v.indentalign!==i.INDENTALIGN.CENTER&&!f.hasIndent&&(e.style[{left:"marginLeft",right:"marginRight"}[v.indentalign]]=r.Ex(r.length2em(v.indentshift)))}}return e}}),i.TeXAtom.Augment({toSVG:function(){this.SVGgetStyles();var e=this.SVG();this.SVGhandleSpace(e);if(this.data[0]!=null){var t=this.data[0].toSVG(),n=0;this.texClass===i.TEXCLASS.VCENTER&&(n=r.TeX.axis_height-(t.h+t.d)/2+t.d),e.Add(t,0,n),e.ic=t.ic}return this.SVGhandleColor(e),this.SVGsaveData(e),e}}),t.Register.StartupHook("onLoad",function(){setTimeout(MathJax.Callback(["loadComplete",r,"jax.js"]),0)})}),t.Register.StartupHook("End Cookie",function(){t.config.menuSettings.zoom!=="None"&&e.Require("[MathJax]/extensions/MathZoom.js")}),document.createElementNS||(document.namespaces.svg||document.namespaces.add("svg",s),r.Augment({Element:function(e,t){var n=typeof e=="string"?document.createElement("svg:"+e):e;n.isMathJax=!0;if(t)for(var r in t)t.hasOwnProperty(r)&&n.setAttribute(r,t[r].toString());return n}}))})(MathJax.Ajax,MathJax.Hub,MathJax.HTML,MathJax.OutputJax.SVG);
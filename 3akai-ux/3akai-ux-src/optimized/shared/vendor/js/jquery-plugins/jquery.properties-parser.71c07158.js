(function(e){function t(e){var t=0,n=e.length;this.peek=function(r){return r=r||0,t+r>=n?null:e.charAt(t+r)},this.next=function(r){return r=r||1,t>=n?null:e.charAt((t+=r)-r)},this.pos=function(){return t}}function r(e){return n.test(e)}function i(e){var t=e.pos();while(r(e.peek()))e.next();return{type:"whitespace",start:t,end:e.pos()}}function s(e){return e==="!"||e==="#"}function o(e){return e==null||e==="\n"||e==="\r"}function u(e){var t=e.pos();while(!o(e.peek()))e.next();return{type:"comment",start:t,end:e.pos()}}function a(e){return!r(e)&&!s(e)}function f(e){return e==="="||e===":"||r(e)}function l(e){return e==="\\"}function c(e){var t=e.pos();e.next();var n=e.next();return n==="u"&&e.next(4),{type:"escaped-value",start:t,end:e.pos()}}function h(e){var t=e.pos(),n=[],r;while((r=e.peek())!==null){if(f(r))break;if(l(r)){n.push(c(e));continue}e.next()}return{type:"key",start:t,end:e.pos(),children:n}}function p(e){var t=e.pos(),n=!1,i;while((i=e.peek())!==null){if(o(i))break;if(r(i)){e.next();continue}if(n)break;n=i===":"||i==="=";if(n){e.next();continue}break}return{type:"key-value-separator",start:t,end:e.pos()}}function d(e){return e.peek()==="\\"&&o(e.peek(1))}function v(e){var t=e.pos();e.next(),e.peek()==="\r"&&e.next(),e.next();var n;while((n=e.peek())!==null){if(o(n))break;if(!r(n))break;e.next()}return{type:"line-break",start:t,end:e.pos()}}function m(e){var t=e.pos(),n=[],r;while((r=e.peek())!==null){if(d(e)){n.push(v(e));continue}if(l(r)){n.push(c(e));continue}if(o(r))break;e.next()}return{type:"value",start:t,end:e.pos(),children:n}}function g(e){return{type:"key-value",start:e.pos(),children:[h(e),p(e),m(e)],end:e.pos()}}function b(e,t){var n=e.start,r=[];for(var i=0;i<e.children.length;i++){var s=e.children[i];r.push(t.substring(n,s.start)),r.push(y[s.type](s,t)),n=s.end}return r.push(t.substring(n,e.end)),r}function w(e,t){var n={};for(var r=0;r<e.length;r++){var i=e[r];if(i.type!=="key-value")continue;var s=b(i.children[0],t).join(""),o=b(i.children[2],t).join("");n[s]=o}return n}function E(e){var n=new t(e),o=[],f;while((f=n.peek())!==null){if(r(f)){o.push(i(n));continue}if(s(f)){o.push(u(n));continue}if(a(f)){o.push(g(n));continue}throw Error("Something crazy happened. text: '"+e+"'; curChar: '"+f+"'")}return o}var n=/\s/,y={"escaped-value":function(e,t){var n=t.charAt(e.start+1);return n==="t"?"	":n==="r"?"\r":n==="n"?"\n":n==="f"?"\f":n!=="u"?n:String.fromCharCode(parseInt(t.substr(e.start+2,4),16))},"line-break":function(e,t){return""}};e.parseProperties=function(e){e=e.toString();var t=E(e);return w(t,e)}})(jQuery);
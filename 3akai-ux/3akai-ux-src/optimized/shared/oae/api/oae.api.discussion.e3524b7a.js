define(["exports","jquery","underscore"],function(e,t,n){var r=e.getDiscussion=function(e,n){if(!e)throw new Error("A valid discussion id should be provided");t.ajax({url:"/api/discussion/"+e,success:function(e){n(null,e)},error:function(e,t){n({code:e.status,msg:e.statusText})}})},i=e.createDiscussion=function(e,n,r,i,s,o){if(!e)throw new Error("A valid description topic should be provided");var u={displayName:e,description:n,visibility:r,managers:i,members:s};t.ajax({url:"/api/discussion/create",type:"POST",data:u,success:function(e){o(null,e)},error:function(e,t){o({code:e.status,msg:e.statusText})}})},s=e.updateDiscussion=function(e,r,i){if(!e)throw new Error("A valid discussion id should be provided");if(!r||n.keys(r).length===0)throw new Error("At least one update parameter should be provided");t.ajax({url:"/api/discussion/"+e,type:"POST",data:r,success:function(e){i(null,e)},error:function(e,t){i({code:e.status,msg:e.statusText})}})},o=e.deleteDiscussion=function(e,n){if(!e)throw new Error("A valid discussion id should be provided");t.ajax({url:"/api/discussion/"+e,type:"DELETE",success:function(){n(null)},error:function(e,t){n({code:e.status,msg:e.statusText})}})},u=e.getMembers=function(e,n,r,i){if(!e)throw new Error("A discussion ID should be provided");var s={start:n,limit:r};t.ajax({url:"/api/discussion/"+e+"/members",data:s,success:function(e){i(null,e)},error:function(e,t){i({code:e.status,msg:e.statusText})}})},a=e.updateMembers=function(e,r,i){if(!e)throw new Error("A valid discussion id should be provided");if(!r||n.keys(r).length===0)throw new Error("The updatedMembers hash should contain at least 1 update.");t.ajax({url:"/api/discussion/"+e+"/members",type:"POST",data:r,success:function(){i(null)},error:function(e,t){i({code:e.status,msg:e.statusText})}})},f=e.shareDiscussion=function(e,n,r){if(!e)throw new Error("A discussion ID should be provided");if(!n.length)throw new Error("A user or group to share with should be provided");var i={members:n};t.ajax({url:"/api/discussion/"+e+"/share",type:"POST",data:i,success:function(e){r(null,e)},error:function(e,t){r({code:e.status,msg:e.statusText})}})},l=e.getLibrary=function(e,n,r,i){if(!e)throw new Error("A user or group ID should be provided");var s={start:n,limit:r};t.ajax({url:"/api/discussion/library/"+e,data:s,success:function(e){i(null,e)},error:function(e,t){i({code:e.status,msg:e.statusText})}})},c=e.deleteDiscussionFromLibrary=function(e,n,r){if(!e)throw new Error("A valid user or group ID should be provided");if(!n)throw new Error("A valid discussion ID should be provided");t.ajax({url:"/api/discussion/library/"+e+"/"+n,type:"DELETE",success:function(){r(null)},error:function(e,t){r({code:e.status,msg:e.statusText})}})}});
define(["exports","jquery","underscore"],function(e,t,n){var r=e.getComments=function(e,n,r,i,s){if(!e)throw new Error("A valid resource id should be provided");if(!n)throw new Error("A valid resource type should be provided");var o={start:r,limit:i};t.ajax({url:"/api/"+n+"/"+e+"/messages",data:o,success:function(e){s(null,e)},error:function(e,t){s({code:e.status,msg:e.statusText})}})},i=e.createComment=function(e,n,r,i,s){if(!e)throw new Error("A valid resource id should be provided");if(!n)throw new Error("A valid resource type should be provided");if(!r)throw new Error("A comment should be provided");var o={body:r,replyTo:i};t.ajax({url:"/api/"+n+"/"+e+"/messages",type:"POST",data:o,success:function(e){s(null,e)},error:function(e,t){s({code:e.status,msg:e.statusText})}})},s=e.deleteComment=function(e,n,r,i){if(!e)throw new Error("A valid resource id should be provided");if(!n)throw new Error("A valid resource type should be provided");if(!r)throw new Error("A comment id should be provided");t.ajax({url:"/api/"+n+"/"+e+"/messages/"+r,type:"DELETE",success:function(e){i(null,e)},error:function(e,t){i({code:e.status,msg:e.statusText})}})}});
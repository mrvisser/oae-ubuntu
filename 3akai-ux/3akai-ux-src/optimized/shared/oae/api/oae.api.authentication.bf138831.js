define(["exports","jquery"],function(e,t){var n=e.login=function(e,n,r){if(!e)throw new Error("A valid username should be provided");if(!n)throw new Error("A valid password should be provided");t.ajax({url:"/api/auth/login",type:"POST",data:{username:e,password:n},success:function(){r(null)},error:function(e,t){r({code:e.status,msg:e.statusText})}})},r=e.logout=function(e){t.ajax({url:"/api/auth/logout",type:"POST",success:function(){e(null)},error:function(t,n){e({code:t.status,msg:t.statusText})}})},i=e.changePassword=function(e,n,r){if(!e)throw new Error("A valid current password should be provided");if(!n)throw new Error("A valid new password should be provided");var i=require("oae.core").data.me.id;t.ajax({url:"/api/user/"+i+"/password",type:"POST",data:{oldPassword:e,newPassword:n},success:function(e){r(null,e)},error:function(e,t){r({code:e.status,msg:e.statusText})}})}});